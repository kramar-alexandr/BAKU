/*new:"Материальный отчет",PecuniaryRClass"Отчёт по продажам",SaleReportRClass"Оборотно-сальдовая ведомость по товарам",ItemSaldoRClass*/event DefineWindowsbeginreal h,v,vs,h1;    SetLangMode(LangRussian,"RUS",0);  // new ***********************************************    WindowBegin("Материальный отчет",PecuniaryRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  EditFieldTL(h,v,150,"Дата",M4Date,Normal,0,d1,false,PasteCurDate);  EditFieldTL(h,v+=vs,150,"Магазин",M4Str,Normal,20,f2,false,LocationSClass);  EditFieldTL(h,v+=vs,150,"Машина",M4Str,Normal,20,f1,false,LocalMachineSClass);  EndWindow;    WindowBegin("Отчёт по продажам",SaleReportRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  PeriodField(h,v,"Период");  EditFieldTL(h,v+=vs,150,"Машина",M4Str,Normal,41,f1,false,LocalMachineSClass);  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,200,f2,false,DISClass);  EndWindow;    WindowBegin("Оборотно-сальдовая ведомость по товарам",ItemSaldoRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  PeriodField(h,v,"Период");  EditFieldTL(h,v+=vs,150,"Склад",M4Str,Normal,41,f1,false,LocationSClass);  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,11,f2,false,DISClass);  ButtonFrame(h,v+=vs+16,123,2,"Неотгруженные сч/ф");  RadioButton(h,v,0,0,"Не учитывать",flags[0]);  RadioButton(h,v+=vs,1,0,"Учитывать",flags[0]);    StaticText(50,v+=40,"Отчёт имеет большое количество колонок, поэтому",false);  StaticText(50,v+=vs,"советуется его выводить в Excel или Файл",false);    EndWindow;    WindowBegin("Сумарный отчет за период",SumCostByPeriodRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 130;  PeriodField(h,v,"Период");  EditFieldTL(h,v+=vs,150,"Склад",M4Str,Normal,41,f1,false,LocationSClass);  if(currentcompany!=1)then begin    EditField(h,v+=vs,150,"В валюте по тек. курсу",Normal,f2,false,CurncyCodeSClass);  end;  EndWindow;    WindowBegin("Оборотно-сальдовая ведомость по товарам расширенная",ItemSaldoExtRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  PeriodField(h,v,"Период");  EditField(h,v+=vs,150,"Классификация",Normal,f1,false,DISClass);  EditField(h,v+=vs,150,"Товар",Normal,f2,false,INSClass);  EndWindow;  // ***************************************************      WindowBegin("Отчёт по продажам расширенный",SalesReportExtRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  PeriodField(h,v,"Период");  EditFieldTL(h,v+=vs,150,"Склад(магазин)",M4Str,Normal,41,f1,false,LocationSClass);  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,200,f2,false,DISClass);  EditFieldTL(h,v+=vs,150,"Бренд",M4UStr,Normal,41,f4,false,DI2SClass);//carefull we run ARRn  EditFieldTL(h,v+=vs,150,"Модель",M4UStr,Normal,41,f5,false,DI3SClass);//carefull we run ARRn    ButtonFrame(h,v+=2*vs,75,2,"Тип");  RadioButton(h,v+=5,0,0,"Подробный",ArtMode);  RadioButton(h,v+=vs,1,0,"Сводный",ArtMode);  EndFrame;  EndWindow;      WindowBegin("Товар консигнации",INConsDClass,CGview,-);  SetWRect(20,80,512,639);  UseView(INConsVc);		EditField(h=50,v=10, 100, "Товар",Normal,Code,false,INSClass);		EditField(h+140,v, -40, "Имя",Normal,Name,false,0);		EditField(h+140,v+=24, 82,"Дней консигнации",Normal,Days,false,0);  EndWindow;    WindowBegin("Товар консигнации",INConsLClass,CGmlist,-);  SetWRect(20,80,509,298);  SpawnClass(INConsDClass);  Sizeable(-1,-1,0,0);  UseView(INConsVc);  RecordList(4,17,-21,-39);  RlColKey(4,4,"Партномер",Code,false,Code);  RlColKey(81,81,"Имя",Name,false,Name);  RlCol(-50,-50,"Дней",Days,false);  SearchField("Search");  EndWindow;    WindowBegin("Товар консигнации",INConsSClass,CGslist,-);  SetWRect(20,80,509,298);  SpawnClass(INConsDClass);  Sizeable(-1,-1,0,0);  UseView(INConsVc);  RecordList(4,17,-21,-39);  RlColKey(4,4,"Партномер",Code,false,Code);  RlColKey(81,81,"Имя",Name,false,Name);  RlCol(-50,-50,"Дней",Days,false);  SearchField("Search");  EndWindow;    WindowBegin("Отчёт по товарам на консигнации",ConsignationReportRClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  EditFieldTL(h,v+=vs,150,"Товар",M4Str,Normal,41,f1,false,INConsSClass);  EditFieldTL(h,v+=vs,150,"Бренд",M4Str,Normal,11,f2,false,DISClass);  EndWindow;    WindowBegin("Расчет RRP по заказу поставщику",CalcPricesFromPORClass,CGRcW,RcType);  SetWRect(20,80,400,250);  v = 6; vs = 20; h = 120;  EditFieldTL(h,v+=vs,150,"Номер заказа поставщику",M4Long,Normal,41,long1,false,POSClass);  EndWindow;      WindowBegin("Необходимые заказы поставщикам",POfromORRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 120;		PeriodField(h,v,"Период");		EditFieldTL(h,v+=vs,150,"Вид счета",M4UStr,Normal,41,f1,false,OrderClassSClass);  EndWindow;    WindowBegin("Статус заказанных товаров",POfromORstatusRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 120;		PeriodField(h,v,"Период");		EditFieldTL(h,v+=vs,150,"Вид счета",M4UStr,Normal,41,f1,false,OrderClassSClass);		CheckBox(h,v+=vs,0,"Показать отгруженные товары",flags[1]);		CheckBox(h,v+=vs,0,"Сводный по товарам",flags[2]);  EndWindow;  //Edit***********************Vitalii 15:13 21.08.2014    WindowBegin("Оформленные счета клиентам",SOofPeriodRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 120;		PeriodField(h,v,"Период");  EndWindow;    WindowBegin("Настройка истории цен",PLHistSetTClass,CGSbl,-);  SetBlid(PLHistSetBlock);  SetWRect(64,80,400,400);  Sizeable(-1,-1,0,0);  CheckBox(50,24,0,"Включить историю изменения цен",DoHist);  EndWindow;    WindowBegin("История изменения регистров",PLHistLClass,CGmlist,-);  SetWRect(20,80,509,298);  Sizeable(-1,-1,0,0);  UseView(PLHistVc);  RecordList(4,17,-21,-39);  RlColKey(4,4,"Прайс",PLCode,false,PLCode);  RlCol(80,80,"Товар",ArtCode,false);  RlCol(140,140,"Клиент",CustCode,false);  RlCol(200,200,"Сер. №",SerialNr,false);  RlCol(-140,-140,"Дата",TransDate,false);  RlCol(-70,-70,"Время",TransTime,true);  SearchField("Search");  EndWindow;    WindowBegin("Информация о клиентах",CustInfoCRMRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 100;		statictext(h,v+=vs,"Отсеять клиентов по параметрам:",false);		EditField(h,v+=vs,100, "Код",Normal,ObjStr,false,CUSClass);		EditField(h,v+=vs,100, "Имя",Normal,f1,false,0);		EditField(h,v+=vs,100, "Телефон",Normal,LastAcc,false,0);		EditField(h,v+=vs,100, "e-mail",Normal,Stext,false,0);		h=240;		v = 56;		ButtonFrame(h,v,123,2,"Показывать клиентов");    RadioButton(h,v,0,0,"Всех",flags[0]);    RadioButton(h,v+=16,1,0,"Активных",flags[0]);    RadioButton(h,v+=16,2,0,"Неактивных",flags[0]);    EndFrame;		CheckBox(h,v+=20,0,"Удаленные карты",flags[1]);		CheckBox(h,v+=16,0,"Только с рассылкой",flags[2]);		CheckBox(h,v+=16,0,"Только с телефонами",flags[3]);		EditField(h,v+=30,100, "С таблицой скидок",Normal,FirstAcc,false,RebSClass);		h=100;		v=v+20;		CheckBox(h-50,v+=16,0,"Карточки зарегестрированные в период:",flags[4]);		PeriodField(h,v+=16,"Период");  EndWindow;    WindowBegin("Активность клиентов за период",CustBayPeriodRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 100;		PeriodField(h,v,"Период");		EditField(h,v+=vs,100, "Код",Normal,f1,false,CUSClass);		ButtonFrame(h,v+=vs+16,123,2,"Компания");    RadioButton(h,v,0,0,"Текущая",flags[0]);    RadioButton(h,v+=vs,1,0,"Во всех",flags[0]);    EndFrame;        ButtonFrame(h,v+=vs+16,123,2,"Детализация");    RadioButton(h,v,0,0,"Общий",flags[1]);    RadioButton(h,v+=vs,1,0,"Детальный",flags[1]);    EndFrame;      EndWindow;				WindowBegin("Склад",GlobalLocationDClass,CGview,-);			SetWRect(64,80,570,520);			UseView(GlobalLocationVc);			v = 10; vs = 20; h = 120;			EditField(h,v,120,"Код",Normal,Code,false,0);			EditField(h,v+=vs,-20,"Наимен.",Normal,Name,false,0);			EditField(h,v+=vs,50,"Компания",Normal,Company,false,0);  EndWindow;				WindowBegin("Склады на сервере",GlobalLocationLClass,CGmlist,-);		SpawnClass(GlobalLocationDClass);		SetWRect(64,80,600,298);		Sizeable(-1,-1,0,0);		UseView(GlobalLocationVc);		RecordList(4,17,-21,-39);		RlColKey(4,2,"Код",Code,false,Code);		RlCol(100,100,"Наимен.",Name,false);		RlColKey(-100,-100,"Компания",Company,false,Company);		SearchField("Найти");		EndWindow;  	WindowBegin("Выберите склад",GlobalLocationSClass,CGslist,-);			SetWRect(240,80,700,298);			Sizeable(-1,-1,0,0);			UseView(GlobalLocationVc);			SpawnClass(LocationDClass);			RecordList(4,17,-21,-39);			RlColKey(4,2,"Код",Code,false,Code);			RlColKey(100,100,"Наимен.",Name,false,Name);			RlColKey(-100,-100,"Компания",Company,false,Company);			SearchField("Найти");		EndWindow;				WindowBegin("Packing List",PackListDClass,CGview,-);			SetWRect(64,80,770,720);			Sizeable(-1,-1,0,0);			UseView(PackListVc);			v = 10; vs = 20; h = 120;			EditField(h,v,80,"Номер",ViewOnly,SerNr,false,0);			EditField(h,v+=vs,80,"Номер поступления",ViewOnly,PUSerNr,false,0);			EditField(h,v+=vs,80,"Номер перемещения",ViewOnly,SMSerNr,false,0);			EditField(h,v+=vs,80,"Номер списания",ViewOnly,SHSerNr,false,0);			EditField(h,v+=vs,-20,"Комментарий",ViewOnly,Comment,false,0);			HalPushButton(h+200,20,h+350,40,"FillPackList","Заполнить документ");			MatrixBegin(10,v+50,-50,-10,-,99);				MatCol(1,h=30,"Поставщик",0,VECode,false,VESClass);				MatCol(1,h=120,"Имя",0,VEName,false,0);				MatCol(1,h=220,"Заказ",0,OrderNr,false,0);				MatCol(1,h=300,"Мест",0,Pack,false,0);				MatCol(1,h=350,"Вес",0,Weight,false,0);				MatCol(1,h=400,"Объем",0,Volume,false,0);				MatCol(1,h=450,"Комментарий",0,Comment,false,0);			EndMatrix;			EditField(100,-20,80,"Всего мест",ViewOnly,SumPack,false,0);			EditField(250,-20,80,"Всего вес",ViewOnly,SumWeight,false,0);			EditField(450,-20,80,"Всего объем",ViewOnly,SumVolume,false,0);		EndWindow;  	  	/*WindowBegin("Расспределение товаров по машинам",TrackReportRClass,CGRcW,RcType);			SetWRect(20,80,400,250);			v = 10; vs = 20; h = 120;			EditField(h,v,80,"Номер перемещения",Normal,f1,false,StockMovSClass);			EditField(h,v+=,80,"Номер трака",Normal,f2,false,0);			CheckBox(h,v+=20,0,"В дороге",flags[1]);							EndWindow;*/  	  	WindowBegin("Информация по отчету по счетам клиентов",OrderStatusInfoAClass,CGother,-);		SetWRect(20,80,1200,600);			v = 16; vs = 20; h = 100;h1 = 600;						StaticText(h,v,"Отчет строится следующим образом:",false);			v = v+vs;			h = 50;			StaticText(h,v+=vs,"1. По перечню товаров создается список фабрик.",false);			StaticText(h,v+=vs,"Этот список основан на классификации типа BRAND присвоеного каждому товару.",false);			StaticText(h,v+=vs,"Имя классификации и имя поставщика в карточке поставщиков долны быть одинаковыми.",false);			v = v+vs;			StaticText(h,v+=vs,"2. Просматриваются все заказы поставщику с кодом счета клиенту соответствующим",false);			StaticText(h,v+=vs,"комбинации Вида счета клиента и номера счета клиента (прим. 'PO14-407' и 'PO14-'  '407')",false);			StaticText(h,v+=vs,"",false);			StaticText(h,v+=vs,"",false);			StaticText(h,v+=vs,"",false);			StaticText(h,v+=vs,"",false);						v = 16 + 20;			StaticText(h1,v+=vs,"Поле 'Дата заказа' - это дата оформление счета клиента",false);			StaticText(h1,v+=vs,"Поле 'Дата прибытия на склад согласно контракту' - дата запланированой отгрузки в счета клиента",false);			StaticText(h1,v+=vs,"Поле 'Дата прибытия на склад реальн.' - дата последней отгрузки клиенту по данному счету",false);			StaticText(h1,v+=vs,"Поле 'Маржа' - Число дней отведенное на производство фабрикой (в карточке поставщика) + 27",false);			StaticText(h1,v+=vs,"Поле 'Оформление дизайнерами(менеджерами)заказа со дня получения номера заказа' 2 дня минус",false);			StaticText(h1,v+=vs,"  количество дней между датой счета клиента и датой утверждения счета клиента.",false);			StaticText(h1,v+=vs,"  Если счет не утвержден - тогда текущей датой",false);			StaticText(h1,v+=vs,"Поле 'Размещение заказа и подтверждение (отдел закупок . Брендменеджер)' - Если счет клиенту",false);			StaticText(h1,v+=vs,"  утвержден, тогда 5 - кол-во дней между утверждением счета клиента и последним утвержденным",false);			StaticText(h1,v+=vs,"  заказом поставщику по данной фабрике. Поле 'Дата подтвержд.'",false);			StaticText(h1,v+=vs,"Поле 'Предоплата согласно условиям работы с брэндом' - разница между числом отведенным на заказ",false);			StaticText(h1,v+=vs,"  и кол-вом дней между утверждением заказа поставщику и последней предоплатой по нему",false);			StaticText(h1,v+=vs,"Поле 'Производство (изготовление) товара на фабрике' - разница между числом отведенным на",false);			StaticText(h1,v+=vs,"  выполнение заказа фабрикой (карточка поставщика) и разницей дней между датой предоплаты",false);			StaticText(h1,v+=vs,"  и датой 'Заказ готов' или между датой подтверждения заказа и датой 'Заказ готов'",false);			StaticText(h1,v+=vs,"  или датой подтверждения заказа и текущей датой.",false);			StaticText(h1,v+=vs,"Поле 'Балансовая оплата согласно условиям работы с брэндом' разница между датой оплаты сч/ф",false);			StaticText(h1,v+=vs,"  поставщику и  датой 'Заказ готов' (от старшей даты)",false);			StaticText(h1,v+=vs,"Поле 'Забор товара' 19 - кол-во дней между датой оплаты сч/ф или датой 'Заказ готов' и датой",false);			StaticText(h1,v+=vs,"  последнего поступления по заказу (от старшей даты)",false);			StaticText(h1,v+=vs,"Поле 'Доставка товара' - кол-во дней доставки на склад в Баку (перемещение или поступление)",false);			StaticText(h1,v+=vs,"  включая забор товара",false);			StaticText(h1,v+=vs,"Поле 'Не просрочено всего' - сумма по полям отмеченным знаком '+'. Числа не отмеченные этим",false);			StaticText(h1,v+=vs,"  знаком являются предварительними для следующего значения.",false);		EndWindow;  	  	WindowBegin("Определите отчет по счетам клиентов",OrderPOStatusRClass,CGRcW,RcType);		SetWRect(20,80,400,250);			v = 6; vs = 20; h = 100;			PeriodField(h,v,"Период");			EditField(h,v+=vs,100, "Номер",Normal,long1,false,0);			EditField(h,v+=vs,100, "Вид счета",Normal,f1,false,OrderClassSClass);			EditField(h,v+=vs,100, "Склад",Normal,f2,false,LocationSClass);					ButtonFrame(h=250,v=42,100,3,"Фильтр");			RadioButton(h,v,0,0,"Все",flags[0]);			RadioButton(h,v+=16,1,0,"Закрытые",flags[0]);			RadioButton(h,v+=16,2,0,"Открытые",flags[0]);						HalPushButton(h=100,v+=16,190,66,"OrderStatusInfoMn","Инфо");		EndWindow;  	  	WindowBegin("Определите отчет по счетам клиентов",OrderStatusRClass,CGRcW,RcType);		SetWRect(20,80,400,250);			v = 6; vs = 20; h = 100;			PeriodField(h,v,"Период");			EditField(h,v+=vs,100, "Номер",Normal,long1,false,0);			EditField(h,v+=vs,100, "Вид счета",Normal,f1,false,OrderClassSClass);			EditField(h,v+=vs,100, "Склад",Normal,f2,false,LocationSClass);					ButtonFrame(h=250,v=42,100,3,"Фильтр");			RadioButton(h,v,0,0,"Все",flags[0]);			RadioButton(h,v+=16,1,0,"Закрытые",flags[0]);			RadioButton(h,v+=16,2,0,"Открытые",flags[0]);		EndWindow;				WindowBegin("Отчет по задолженности клиентов",CustDebByCompRClass,CGRcW,RcType);		SetWRect(20,80,400,250);		v = 6; vs = 20; h = 100;		EditField(h,v+=vs,100, "Клиент",Normal,f1,false,CUSClass);		RadioButton(h,v+=30,0,0,"Свободный",ArtMode);		RadioButton(h,v+=16,1,0,"Расширенный",ArtMode);				EndWindow;  	  return;end;window DI2SClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")begin  Integer icn;  icn = StringToInt(USetStr(912));  WindowBegin("Выберите классификацию товара",DI2SClass,CGslist,DIView);  SpawnClass(DIDClass);  UseView(DIVc);	SetWRect(100,80,400,298);	RecordList(4,17,-21,-39);	RlColKey(4,4,"Код",Code,false,CTCode); 	RlColKey(164,164,"Наим.",Name,false,CTName);	RlCol(-84,-84,"Тип",CType,false); 	SearchField("Поиск");   EndWindow;end;window DI3SClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")begin  Integer icn;  WindowBegin("Выберите классификацию товара",DI3SClass,CGslist,DIView);  SpawnClass(DIDClass);  UseView(DIVc);	SetWRect(100,80,400,298);	RecordList(4,17,-21,-39);	RlColKey(4,4,"Код",Code,false,CTCode); 	RlColKey(164,164,"Наим.",Name,false,CTName);	RlCol(-84,-84,"Тип",CType,false); 	SearchField("Поиск");   EndWindow;end;window NPTSNewCUFieldsTCLass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  real h,v;  WindowBegin("Поля для создания нового клиента",NPTSNewCUFieldsTCLass,CGHbl,HBlRecType);  SetBlid(NPTSNewCUFieldsBlock);  SetWRect(20,80,420,400);  h = 8; v = 20;  MatrixBegin(h,v,-25,-1,-,99);//  MatColTL(1,24,"Field Name",0,M4AppCode,Normal,-1,FieldName,false,SetSClass);  MatCol(1,24,"Нименов. поля",0,FieldName,false,0);  MatCol(1,104,"Тип",0,EditState,false,SetSClass);  MatCol(1,200,"Комментарий",0,FieldComment,false,0);  EndMatrix;  EndWindow;end;window ExtractINAttachVClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  real h,v,vs;  WindowBegin("Выгрузить прикрепленные файлы к товарам",ExtractINAttachVClass,CGMnt,RcType);  SetWRect(20,80,400,240);  vs = 20;h = 130; v = 26;  EndWindow;end;window IPrsLClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  WindowBegin("История плат. клиента",IPrsLClass,CGmlist,-);  SetWRect(64,80,550,298);  Sizeable(-1,-1,0,0);  UseView(IPrsVc);  RecordList(4,17,-21,-39);  RlColKey(4,2,"CustCode",CustCode,false,MainKey);  RlCol(100,100, "TransNr",TransNr,false);  RlCol(200,200, "TransDate",TransDate,false);  RlCol(300,300, "CustDate",CustDate,false);  RlCol(400,400, "TransType",TransType,false);  RlCol(500,500, "IVNr",IVNr,false);  RlCol(600,600, "AccNr",AccNr,false);  RlCol(800,800, "CheckType",CheckType,false);  RlCol(900,900, "ChequeNr",ChequeNr,false);  RlCol(1000,1000, "IntYc",IntYc,false);  RlCol(1100,1100, "TransRow",TransRow,false);  SearchField("Search");  EndWindow;end;window ExternalStoreDClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin	real v,vs,h;  WindowBegin("Внешние продажи",ExternalStoreDClass,CGview,-);  SetWRect(64,80,550,298);  Sizeable(-1,-1,0,0);  UseView(ExternalStoreVc);    v = 6; vs = 20; h = 100;	EditField(h,v+=vs,100, "Код",Normal,Code,false,0);	EditField(h,v+=vs,100, "Название",Normal,Name,false,0);  EditField(h,v+=vs,100, "Комментарий",Normal,Comment,false,0);    EndWindow;end;window ExternalStoreLClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  WindowBegin("Внешние магазины",ExternalStoreLClass,CGmlist,-);  SetWRect(64,80,550,298);  Sizeable(-1,-1,0,0);  SpawnClass(ExternalStoreDClass);  UseView(ExternalStoreVc);  RecordList(4,17,-21,-39);  RlColKey(4,2,"Код",Code,false,Code);  RlCol(100,100,"Название",Name,false);  RlCol(200,200,"Комментрий",Comment,false);   SearchField("Search");  EndWindow;end;window ExternalStoreSClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  WindowBegin("Выберите склад",ExternalStoreSClass,CGslist,-);  SetWRect(240,80,700,298);  Sizeable(-1,-1,0,0);  UseView(ExternalStoreVc);  SpawnClass(ExternalStoreDClass);  RecordList(4,17,-21,-39);  RlColKey(4,2,"Код",Code,false,Code);  RlColKey(100,100,"Наимен.",Name,false,Name);  RlColKey(200,200,"Коммент.",Comment,false,Comment);  SearchField("Найти");  EndWindow;end;window ExternalSalesDClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin	real v,vs,h;  WindowBegin("Внешние продажи",ExternalSalesDClass,CGview,-);  SetWRect(64,80,300,200);  Sizeable(-1,-1,0,0);  UseView(ExternalSalesVc);  ActiveFieldOnNew("CustCode");  v = 6; vs = 20; h = 100;	EditField(h,v+=vs,100, "Номер",Normal,SerNr,false,0);	EditField(h,v+=vs,100, "Клиент",Normal,CustCode,false,CUSClass);	EditField(h,v+=vs,300, "Название",Normal,Name,false,0);  EditField(h,v+=vs,100, "Дата",Normal,TransDate,false,PasteCurDate);  EditField(h,v+=vs,100, "Магазин",Normal,Location,false,ExternalStoreSClass);  EditField(h,v+=vs,400, "Комментарий",Normal,Comment,false,0);    EditField(h,v+=vs,400, "Сумма EUR",Normal,Sum,false,0);   CheckBox(h,v+=vs, 70,"Ok",OKFlag);  EndWindow;end;window ExternalSalesLClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  WindowBegin("Внешние продажи",ExternalSalesLClass,CGmlist,-);  SetWRect(64,80,500,300);  Sizeable(0,0,0,0);  SpawnClass(ExternalSalesDClass);  UseView(ExternalSalesVc);  RecordList(4,17,-21,-39);  RlColKey(4,2,"№",SerNr,false,SerNr);  RlColKey(70,70,"Клиент",CustCode,false,CustCode);  RlColKey(140,140,"Название",Name,false,Name);	RlColKey(200,200,"Дата",TransDate,false,TransDate);	RlColKey(250,250,"Магазин",Location,false,Location);	RlCol(300,300,"Комментарий",Comment,false);	RlColKey(-100,-100,"ОК",OKFlag,true,OKFlag);	RlCol(-70,-70,"EUR",Sum,true);	   SearchField("Search");  EndWindow;end;window SetSyncFlagsVClass:1 // Edit ************************** Friday, 17 October 2014 11:47:19 wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer") beginWindowBegin("Maintenance",SetSyncFlagsVClass,CGMnt,RcType);  SetWRect(20,120,360,220);  EndWindow;end;window TableSearchIClass:1  // added ************ Dima, 16.12.2014  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")beginreal h,v,vs;Integer i,mwn;  WindowBegin("Поиск в таблице",TableSearchIClass,CGother,RcType);  SetWRect(3,140,400,250);  UseView(RcVc);  Modality(1);  v=30;  h=20;  //EditFieldTL(h+30,v-10 ,150,"Поиск",M4Str,Normal,20,f1,true,0); // new search field  EditField(h+30,v-10 ,150,"Поиск",Normal,f1,true,0);  ColourPushButton(h+=200,v-10,h+58,v+26,"GoPreviousItem","Пред.",20);  ColourPushButton(h+=75,v-10,h+58,v+26,"GoNextItem","След.",2);  EndWindow;end;window RetDClass:1  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  real h,h1,h2,h3,h4,v,vm,vs;  WindowBegin("Возврат товаров от клиента",RetDClass,CGview,-);  SetWRect(20,80,750,460);  Sizeable(-1,-1,0,0);  UseView(RetVc);  ActiveFieldOnNew("CustCode");      Tile(0,74,false,"",TransDate);  v = 6; vs = 20;  EditField(75,vm=(v=6),95,"Но.",Normal,SerNr,false,TSerSClass);  EditField(75,v+=20,95,"Клиент",Normal,CustCode,false,CUSClass);  EditField(h=275,v=vm,-40,"Наимен.",Normal,CustName,false,0);  EditField(h,vm=(v+=20),135,"Оф. номер",Normal,OfficialSerNr,false,LegalInvNrSClass); //  EditField(h+210,v,82, "Employee",Normal,EMCode,false,UserSClass);  CheckBox(h4=-100,v,0,"ОК",OKFlag);  TileButton(1,"Условия");  TileButton(2,"Товары");  TileButton(3,"Валюта");  TileButton(4,"Комментарий");  Tile(1,90,false,"1",Location);  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -110;  EditField(h1,vm=(v=6),82,"Дата",Normal,TransDate,false,PasteCurDate);  EditField(h1,v+=vs,82,"Склад",Normal,Location,false,LocationSClass);  EditField(h1,v+=vs,82,"Основание",Normal,Reason,false,StandProblemsSClass);    EditField(h1,v+=vs,82,"Объекты",Normal,Objects,false,ObjSClass);    EditField(h2,v=vm,135,"Номер счета",ViewOnly,OrdNr,false,0);   EditField(h2,v+=vs,135,"Номер отгр.",ViewOnly,SHNr,false,0);     EditField(h2,v+=vs,135,"№ зак. на обсл.",ViewOnly,SVONr,false,0);   EditField(h2,v+=vs,135,"№ табл. работ",ViewOnly,WSNr,false,0);   EnterSkip(Math);  ButtonFrame(h3=h3-70,v=vm+10,140,2,"Уменьшить количество");  RadioButton(h3,v,0,0,"Только отгруженные",Type);  RadioButton(h3,v+=16,1,0,"Заказанные и отгруж.",Type);  CheckBox(h4,v=vm+10,0,"Обновить склад",UpdStockFlag);  CheckBox(h4,v+=16,0,"Цена вкл. НДС",InclVAT);  CheckBox(h4,v+=16,0,"Без кр. сч/ф",Closed);   Tile(2,79,true,"2",Math);  v = 24;  MatrixBegin(4,v,-50,-22,-,199);  Flip(0);  MatCol(1,24,"Товар",0,ArtCode,false,INSClass);//  MatCol(1,84,"Var",0,VARList,true,VARSClass);//  MatCol(1,144,"Qty",0,Quant,true,0);  MatCol(1,94,"Кол-во",0,Quant,true,0);  Flip(1);//  MatCol(1,194,"Description",0,Spec,false,0);  MatCol(1,144,"Наимен.",0,Spec,false,0);  MatCol(1,-228,"Цена",0,UPrice,true,0);  MatCol(1,-160,"Накладные расходы",0,Extra,true,0);  MatCol(1,-80,"Стоимость",0,CostPrice,true,0);  Flip(2);  MatCol(1,134,"Объекты",0,Objects,false,ObjSClass);  MatCol(1,264,"Сч/ф",0,Invd,false,0);   MatColTL(1,-300,"Склад",0,M4UStr,ViewOnly,0,Location,false,0);   MatCol(1,-240,"Счет склада",0,CostAcc,false,AccSClass); // Edit ************************** Thursday, 22 January 2015 11:25:13  //MatColTL(1,-240,"Счет склада",0,M4UStr,Normal,0,CostAcc,false,AccSClass);   MatCol(1,-180,"Серийный №",0,SerialNr,false,SerialNrSClass);  MatCol(1,-80,"Срок годности",0,BestBefore,false,0);  Flip(3);  MatCol(1,144,"Объекты",0,Objects,false,ObjSClass);  MatCol(1,-450,"Стоим. обратной закупки",0,BBCostPrice,false,0);//##cc  MatCol(1,-290,"Место",0,PosCode,false,FreePosSClass);//##cc  MatColTL(1,-240,"Структура",0,M4Ustr,ViewOnly,0,Recepy,false,0);  MatCol(1,-180,"Ширина",0,UnitXval,true,0);  MatCol(1,-120,"Высота",0,UnitYval,true,0);  MatCol(1,-60,"Глубина",0,UnitZval,true,0);  Flip(4);  MatCol(1,144,"Описание",0,Spec,false,0);   MatCol(1,-225,"Тип товара",0,WSIVType,false,SetSClass);   MatCol(1,-150,"Осн. серийн. номер",0,MotherNr,false,SerialNrSClass);   InsertRowTest;  DeleteRowTest;  EndMatrix;  vs = 20;  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");   //  CheckBox(20,-20,0,"OK",OKFlag);  EditField(110,-20,50,"Total Qty",ViewOnly,SumQuant,true,0);  Tile(3,70,false,"3",FrRate);  vs = 20;  EditField(h1,v=6,50,"Валюта",Normal,CurncyCode,false,CurncyCodeSClass);  EditField(h2,v,50,"Курс",Normal,FrRate,true,0);  EditField(h2+65,v,50,":",Normal,ToRateB1,true,0);  StaticText(h2+125,v+12,"Базовая валюта 1",false);  EditField(h1,v+=vs,50,"Базовая валюта 1",Normal,BaseRate1,true,0);  EditField(h2+65,v,50,":",Normal,ToRateB2,true,0);  StaticText(h2+125,v+12,"Базовая валюта 2",false);  EditField(h1,v+=vs,50,"Базовая валюта 2",Normal,BaseRate2,true,0);  Tile(4,30,false,"4",Comment);  EditField(h1,v=6,-20,"Комментарий",Normal,Comment,false,0);  SpecialMenu("Поиск товара",'',1,"ItemSearchDsm");  SpecialMenu("Поиск в текущей таблице",'f',1,"TableSearchDsm");  SpecialMenu("Открыть запись операции",'t',0,"OpenTRFromRet");  SpecialMenu("Выписать кредитный счет",'F',1,"CreditIVFromRetsm");  SpecialMenu("Контроль качества",'u',10,"QualConFromRetDsm");  EndWindow;end;window WebSyncTClass:1 //Edit***************************Sasha2,13:29 12.01.2015 {  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  real h,h2,h3,v,vs;  WindowBegin("Web sync queue",WebSyncTClass,CGSbl,-);  SetBlid(WebSyncBlock);  SetWRect(64,80,430,140);  v=10;vs = 20; h = 70; h2 = 250; h3 = 380;  EditField(h,v,82,"Items1",ViewOnly,Items1,false,"");  EditField(h,v+=vs,82,"Brands1",ViewOnly,Brands1,false,"");  EditField(h,v+=vs,82,"Types1",ViewOnly,Types1,false,"");  EditField(h,v+=vs,82,"Collections1",ViewOnly,Collections1,false,"");  EditField(h,v+=vs*2,82,"Items2",ViewOnly,Items2,false,"");  EditField(h,v+=vs,82,"Brands2",ViewOnly,Brands2,false,"");  EditField(h,v+=vs,82,"Types2",ViewOnly,Types2,false,"");  EditField(h,v+=vs,82,"Collections2",ViewOnly,Collections2,false,"");     EditField(h2,v=10,82,"ItemsTemp1",ViewOnly,ItemsTemp1,false,"");  EditField(h2,v+=vs,82,"BrandsTemp1",ViewOnly,BrandsTemp1,false,"");  EditField(h2,v+=vs,82,"TypesTemp1",ViewOnly,TypesTemp1,false,"");  EditField(h2,v+=vs,82,"CollectionsTemp1",ViewOnly,CollectionsTemp1,false,"");  EditField(h2,v+=vs*2,82,"ItemsTemp2",ViewOnly,ItemsTemp2,false,"");  EditField(h2,v+=vs,82,"BrandsTemp2",ViewOnly,BrandsTemp2,false,"");  EditField(h2,v+=vs,82,"TypesTemp2",ViewOnly,TypesTemp2,false,"");  EditField(h2,v+=vs,82,"CollectionsTemp2",ViewOnly,CollectionsTemp2,false,"");  EndWindow;end; //Edit***************************Sasha2,13:29 12.01.2015 }