remote procedure CntDiTypesForIn(string,var Array string,var Integer,var Integer); //Edit***************************Sasha2,11:35 03.11.2015
external procedure ExtractObj(string,var Integer,var string); //Edit***************************Sasha2,11:36 03.11.2015
external function boolean SkipCheckDIType(string); //Edit***************************Sasha2,16:35 25.12.2015

/*
new:
"Материальный отчет",PecuniaryRClass
"Отчёт по продажам",SaleReportRClass
"Оборотно-сальдовая ведомость по товарам",ItemSaldoRClass
*/

 SetLangMode(LangRussian,"RUS",0);

event DefineWindows
begin
real h,v,vs,h1;
 

// new ***********************************************

  WindowBegin("Материальный отчет",PecuniaryRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
//  EditFieldTL(h,v,150,"Дата",M4Date,Normal,0,d1,false,PasteCurDate);
  PeriodField(h,v,"Период");
  EditFieldTL(h,v+=vs,150,"Магазин",M4Str,Normal,20,f2,false,LocationSClass);
  EditFieldTL(h,v+=vs,150,"Машина",M4Str,Normal,20,f1,false,LocalMachineSClass);
  EndWindow;
  
  WindowBegin("Материальный отчет новый",PecuniaryNewRClass,CGRcW,RcType);		//Edit----------------------Dima  19.02.2016
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  PeriodField(h,v,"Период");
//  EditFieldTL(h,v,150,"Дата",M4Date,Normal,0,d1,false,PasteCurDate);
  EditFieldTL(h,v+=vs,150,"Магазин",M4Str,Normal,20,f2,false,LocationSClass);
  EditFieldTL(h,v+=vs,150,"Машина",M4Str,Normal,20,f1,false,LocalMachineSClass);
  EndWindow;  

  WindowBegin("Отчёт по продажам",SaleReportRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  PeriodField(h,v,"Период");
  EditFieldTL(h,v+=vs,150,"Машина",M4Str,Normal,41,f1,false,LocalMachineSClass);
  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,200,f2,false,DISClass);
  EndWindow;

  WindowBegin("Оборотно-сальдовая ведомость по товарам",ItemSaldoRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  PeriodField(h,v,"Период");
  EditFieldTL(h,v+=vs,150,"Склад",M4Str,Normal,41,f1,false,LocationSClass);
  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,11,f2,false,DISClass);
  h=20;
  ButtonFrame(h,v+=vs+16,123,2,"Неотгруженные сч/ф");
  RadioButton(h,v,0,0,"Не учитывать",flags[0]);
  RadioButton(h,v+=vs,1,0,"Учитывать",flags[0]);
	
	h = 180;
	v = 60;
	CheckBox(h,v+=vs,0,"Исключить обычные товары",flags[1]);
	CheckBox(h,v+=vs,0,"Исключить товары консигн.",flags[2]);
	CheckBox(h,v+=vs,0,"Исключить товары малоцен.",flags[3]);
	
	
  StaticText(50,v+=40,"Отчёт имеет большое количество колонок, поэтому",false);
  StaticText(50,v+=vs,"советуется его выводить в Excel или Файл",false);

  EndWindow;

  WindowBegin("Сумарный отчет за период",SumCostByPeriodRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 130;
  PeriodField(h,v,"Период");
  EditFieldTL(h,v+=vs,150,"Склад",M4Str,Normal,41,f1,false,LocationSClass);
	EditField(h,v+=vs,80,"Отчет в валюте",Normal,f3,false,CurncyCodeSClass);	//Edit----------------------Dima  03.02.2015
  /*if(currentcompany != 1)then begin
    EditField(h,v+=vs,150,"В валюте по тек. курсу",Normal,f2,false,CurncyCodeSClass);
  end;*/
  EndWindow;

  WindowBegin("Оборотно-сальдовая ведомость по товарам расширенная",ItemSaldoExtRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  PeriodField(h,v,"Период");
  EditField(h,v+=vs,150,"Классификация",Normal,f1,false,DISClass);
  EditField(h,v+=vs,150,"Товар",Normal,f2,false,INSClass);
  EndWindow;


// ***************************************************


  WindowBegin("Отчёт по продажам расширенный",SalesReportExtRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  PeriodField(h,v,"Период");
  EditFieldTL(h,v+=vs,150,"Склад(магазин)",M4Str,Normal,41,f1,false,LocationSClass);
  EditFieldTL(h,v+=vs,150,"Клиент",M4Str,Normal,41,f6,false,CUSClass);
  EditFieldTL(h,v+=vs,150,"Классификация",M4Str,Normal,200,f2,false,DISClass);
  EditFieldTL(h,v+=vs,150,"Бренд",M4UStr,Normal,41,f4,false,DI2SClass);//carefull we run ARRn
  EditFieldTL(h,v+=vs,150,"Модель",M4UStr,Normal,41,f5,false,DI3SClass);//carefull we run ARRn

  ButtonFrame(h,v+=2*vs,75,2,"Тип");
  RadioButton(h,v+=5,0,0,"Подробный",ArtMode);
  RadioButton(h,v+=vs,1,0,"Сводный",ArtMode);
  EndFrame;
  EndWindow;



  WindowBegin("Товар консигнации",INConsDClass,CGview,-);
  SetWRect(20,80,512,639);
  UseView(INConsVc);
		EditField(h=50,v=10, 100, "Товар",Normal,Code,false,INSClass);
		EditField(h+140,v, -40, "Имя",Normal,Name,false,0);
		EditField(h+140,v+=24, 82,"Дней консигнации",Normal,Days,false,0);
  EndWindow;

  WindowBegin("Товар консигнации",INConsLClass,CGmlist,-);
  SetWRect(20,80,509,298);
  SpawnClass(INConsDClass);
  Sizeable(-1,-1,0,0);
  UseView(INConsVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"Партномер",Code,false,Code);
  RlColKey(81,81,"Имя",Name,false,Name);
  RlCol(-50,-50,"Дней",Days,false);
  SearchField("Search");
  EndWindow;

  WindowBegin("Товар консигнации",INConsSClass,CGslist,-);
  SetWRect(20,80,509,298);
  SpawnClass(INConsDClass);
  Sizeable(-1,-1,0,0);
  UseView(INConsVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"Партномер",Code,false,Code);
  RlColKey(81,81,"Имя",Name,false,Name);
  RlCol(-50,-50,"Дней",Days,false);
  SearchField("Search");
  EndWindow;

  WindowBegin("Отчёт по товарам на консигнации",ConsignationReportRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  EditFieldTL(h,v+=vs,150,"Товар",M4Str,Normal,41,f1,false,INConsSClass);
  EditFieldTL(h,v+=vs,150,"Бренд",M4Str,Normal,11,f2,false,DISClass);
  EndWindow;

  WindowBegin("Расчет RRP по заказу поставщику",CalcPricesFromPORClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 120;
  EditFieldTL(h,v+=vs,150,"Номер заказа поставщику",M4Long,Normal,41,long1,false,POSClass);
  EndWindow;


  WindowBegin("Необходимые заказы поставщикам",POfromORRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 120;
		PeriodField(h,v,"Период");
		EditFieldTL(h,v+=vs,150,"Вид счета",M4UStr,Normal,41,f1,false,OrderClassSClass);
  EndWindow;

  WindowBegin("Статус заказанных товаров",POfromORstatusRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 120;
		PeriodField(h,v,"Период");
		EditFieldTL(h,v+=vs,150,"Вид счета",M4UStr,Normal,41,f1,false,OrderClassSClass);
		CheckBox(h,v+=vs,0,"Показать отгруженные товары",flags[1]);
		CheckBox(h,v+=vs,0,"Сводный по товарам",flags[2]);
  EndWindow;


  //Edit***********************Vitalii 15:13 21.08.2014
  WindowBegin("Оформленные счета клиентам",SOofPeriodRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 120;
		PeriodField(h,v,"Период");
  EndWindow;

  WindowBegin("Настройка истории цен",PLHistSetTClass,CGSbl,-);
  SetBlid(PLHistSetBlock);
  SetWRect(64,80,400,400);
  Sizeable(-1,-1,0,0);
  CheckBox(50,24,0,"Включить историю изменения цен",DoHist);
  EndWindow;

  WindowBegin("История изменения регистров",PLHistLClass,CGmlist,-);
  SetWRect(20,80,509,298);
  Sizeable(-1,-1,0,0);
  UseView(PLHistVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"Прайс",PLCode,false,PLCode);
  RlCol(80,80,"Товар",ArtCode,false);
  RlCol(140,140,"Клиент",CustCode,false);
  RlCol(200,200,"Сер. №",SerialNr,false);
  RlCol(-140,-140,"Дата",TransDate,false);
  RlCol(-70,-70,"Время",TransTime,true);
  SearchField("Search");
  EndWindow;

  WindowBegin("Информация о клиентах",CustInfoCRMRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 100;
		statictext(h,v+=vs,"Отсеять клиентов по параметрам:",false);
		EditField(h,v+=vs,100, "Код",Normal,ObjStr,false,CUSClass);
		EditField(h,v+=vs,100, "Имя",Normal,f1,false,0);
		EditField(h,v+=vs,100, "Телефон",Normal,LastAcc,false,0);
		EditField(h,v+=vs,100, "e-mail",Normal,Stext,false,0);
		h=240;
		v = 56;
		ButtonFrame(h,v,123,2,"Показывать клиентов");
    RadioButton(h,v,0,0,"Всех",flags[0]);
    RadioButton(h,v+=16,1,0,"Активных",flags[0]);
    RadioButton(h,v+=16,2,0,"Неактивных",flags[0]);
    EndFrame;
		CheckBox(h,v+=20,0,"Удаленные карты",flags[1]);
		CheckBox(h,v+=16,0,"Только с рассылкой",flags[2]);
		CheckBox(h,v+=16,0,"Только с телефонами",flags[3]);
		EditField(h,v+=30,100, "С таблицой скидок",Normal,FirstAcc,false,RebSClass);
		h=100;
		v=v+20;
		CheckBox(h-50,v+=16,0,"Карточки зарегестрированные в период:",flags[4]);
		PeriodField(h,v+=16,"Период");
  EndWindow;

  WindowBegin("Активность клиентов за период",CustBayPeriodRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 100;
		PeriodField(h,v,"Период");
		EditField(h,v+=vs,100, "Код",Normal,f1,false,CUSClass);
		ButtonFrame(h,v+=vs+16,123,2,"Компания");
    RadioButton(h,v,0,0,"Текущая",flags[0]);
    RadioButton(h,v+=vs,1,0,"Во всех",flags[0]);
    EndFrame;

    ButtonFrame(h,v+=vs+16,123,2,"Детализация");
    RadioButton(h,v,0,0,"Общий",flags[1]);
    RadioButton(h,v+=vs,1,0,"Детальный",flags[1]);
    EndFrame;

  EndWindow;

		WindowBegin("Склад",GlobalLocationDClass,CGview,-);
			SetWRect(64,80,570,520);
			UseView(GlobalLocationVc);
			v = 10; vs = 20; h = 120;
			EditField(h,v,120,"Код",Normal,Code,false,0);
			EditField(h,v+=vs,-20,"Наимен.",Normal,Name,false,0);
			EditField(h,v+=vs,50,"Компания",Normal,Company,false,0);
  EndWindow;

		WindowBegin("Склады на сервере",GlobalLocationLClass,CGmlist,-);
		SpawnClass(GlobalLocationDClass);
		SetWRect(64,80,600,298);
		Sizeable(-1,-1,0,0);
		UseView(GlobalLocationVc);
		RecordList(4,17,-21,-39);
		RlColKey(4,2,"Код",Code,false,Code);
		RlCol(100,100,"Наимен.",Name,false);
		RlColKey(-100,-100,"Компания",Company,false,Company);
		SearchField("Найти");
		EndWindow;

  	WindowBegin("Выберите склад",GlobalLocationSClass,CGslist,-);
			SetWRect(240,80,700,298);
			Sizeable(-1,-1,0,0);
			UseView(GlobalLocationVc);
			SpawnClass(LocationDClass);
			RecordList(4,17,-21,-39);
			RlColKey(4,2,"Код",Code,false,Code);
			RlColKey(100,100,"Наимен.",Name,false,Name);
			RlColKey(-100,-100,"Компания",Company,false,Company);
			SearchField("Найти");
		EndWindow;

		WindowBegin("Packing List",PackListDClass,CGview,-);
			SetWRect(64,80,770,720);
			Sizeable(-1,-1,0,0);
			UseView(PackListVc);
			v = 10; vs = 20; h = 120;
			EditField(h,v,80,"Номер",ViewOnly,SerNr,false,0);
			EditField(h,v+=vs,80,"Номер поступления",ViewOnly,PUSerNr,false,0);
			EditField(h,v+=vs,80,"Номер перемещения",ViewOnly,SMSerNr,false,0);
			EditField(h,v+=vs,80,"Номер списания",ViewOnly,SHSerNr,false,0);
			EditField(h,v+=vs,-20,"Комментарий",ViewOnly,Comment,false,0);
			HalPushButton(h+200,20,h+350,40,"FillPackList","Заполнить документ");
			MatrixBegin(10,v+50,-50,-10,-,99);
				MatCol(1,h=30,"Поставщик",0,VECode,false,VESClass);
				MatCol(1,h=120,"Имя",0,VEName,false,0);
				MatCol(1,h=220,"Заказ",0,OrderNr,false,0);
				MatCol(1,h=300,"Мест",0,Pack,false,0);
				MatCol(1,h=350,"Вес",0,Weight,false,0);
				MatCol(1,h=400,"Объем",0,Volume,false,0);
				MatCol(1,h=450,"Комментарий",0,Comment,false,0);
			EndMatrix;
			EditField(100,-20,80,"Всего мест",ViewOnly,SumPack,false,0);
			EditField(250,-20,80,"Всего вес",ViewOnly,SumWeight,false,0);
			EditField(450,-20,80,"Всего объем",ViewOnly,SumVolume,false,0);
		EndWindow;

  	/*WindowBegin("Расспределение товаров по машинам",TrackReportRClass,CGRcW,RcType);
			SetWRect(20,80,400,250);
			v = 10; vs = 20; h = 120;
			EditField(h,v,80,"Номер перемещения",Normal,f1,false,StockMovSClass);
			EditField(h,v+=,80,"Номер трака",Normal,f2,false,0);
			CheckBox(h,v+=20,0,"В дороге",flags[1]);


		EndWindow;*/

  	WindowBegin("Информация по отчету по счетам клиентов",OrderStatusInfoAClass,CGother,-);
		SetWRect(20,80,1200,600);
			v = 16; vs = 20; h = 100;h1 = 600;

			StaticText(h,v,"Отчет строится следующим образом:",false);
			v = v+vs;
			h = 50;
			StaticText(h,v+=vs,"1. По перечню товаров создается список фабрик.",false);
			StaticText(h,v+=vs,"Этот список основан на классификации типа BRAND присвоеного каждому товару.",false);
			StaticText(h,v+=vs,"Имя классификации и имя поставщика в карточке поставщиков долны быть одинаковыми.",false);
			v = v+vs;
			StaticText(h,v+=vs,"2. Просматриваются все заказы поставщику с кодом счета клиенту соответствующим",false);
			StaticText(h,v+=vs,"комбинации Вида счета клиента и номера счета клиента (прим. 'PO14-407' и 'PO14-'  '407')",false);
			StaticText(h,v+=vs,"",false);
			StaticText(h,v+=vs,"",false);
			StaticText(h,v+=vs,"",false);
			StaticText(h,v+=vs,"",false);

			v = 16 + 20;
			StaticText(h1,v+=vs,"Поле 'Дата заказа' - это дата оформление счета клиента",false);
			StaticText(h1,v+=vs,"Поле 'Дата прибытия на склад согласно контракту' - дата запланированой отгрузки в счета клиента",false);
			StaticText(h1,v+=vs,"Поле 'Дата прибытия на склад реальн.' - дата последней отгрузки клиенту по данному счету",false);
			StaticText(h1,v+=vs,"Поле 'Маржа' - Число дней отведенное на производство фабрикой (в карточке поставщика) + 27",false);
			StaticText(h1,v+=vs,"Поле 'Оформление дизайнерами(менеджерами)заказа со дня получения номера заказа' 2 дня минус",false);
			StaticText(h1,v+=vs,"  количество дней между датой счета клиента и датой утверждения счета клиента.",false);
			StaticText(h1,v+=vs,"  Если счет не утвержден - тогда текущей датой",false);
			StaticText(h1,v+=vs,"Поле 'Размещение заказа и подтверждение (отдел закупок . Брендменеджер)' - Если счет клиенту",false);
			StaticText(h1,v+=vs,"  утвержден, тогда 5 - кол-во дней между утверждением счета клиента и последним утвержденным",false);
			StaticText(h1,v+=vs,"  заказом поставщику по данной фабрике. Поле 'Дата подтвержд.'",false);
			StaticText(h1,v+=vs,"Поле 'Предоплата согласно условиям работы с брэндом' - разница между числом отведенным на заказ",false);
			StaticText(h1,v+=vs,"  и кол-вом дней между утверждением заказа поставщику и последней предоплатой по нему",false);
			StaticText(h1,v+=vs,"Поле 'Производство (изготовление) товара на фабрике' - разница между числом отведенным на",false);
			StaticText(h1,v+=vs,"  выполнение заказа фабрикой (карточка поставщика) и разницей дней между датой предоплаты",false);
			StaticText(h1,v+=vs,"  и датой 'Заказ готов' или между датой подтверждения заказа и датой 'Заказ готов'",false);
			StaticText(h1,v+=vs,"  или датой подтверждения заказа и текущей датой.",false);
			StaticText(h1,v+=vs,"Поле 'Балансовая оплата согласно условиям работы с брэндом' разница между датой оплаты сч/ф",false);
			StaticText(h1,v+=vs,"  поставщику и  датой 'Заказ готов' (от старшей даты)",false);
			StaticText(h1,v+=vs,"Поле 'Забор товара' 19 - кол-во дней между датой оплаты сч/ф или датой 'Заказ готов' и датой",false);
			StaticText(h1,v+=vs,"  последнего поступления по заказу (от старшей даты)",false);
			StaticText(h1,v+=vs,"Поле 'Доставка товара' - кол-во дней доставки на склад в Баку (перемещение или поступление)",false);
			StaticText(h1,v+=vs,"  включая забор товара",false);
			StaticText(h1,v+=vs,"Поле 'Не просрочено всего' - сумма по полям отмеченным знаком '+'. Числа не отмеченные этим",false);
			StaticText(h1,v+=vs,"  знаком являются предварительними для следующего значения.",false);
		EndWindow;

  	WindowBegin("Определите отчет по счетам клиентов",OrderPOStatusRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
			v = 6; vs = 20; h = 100;
			PeriodField(h,v,"Период");
			EditField(h,v+=vs,100, "Номер",Normal,long1,false,0);
			EditField(h,v+=vs,100, "Вид счета",Normal,f1,false,OrderClassSClass);
			EditField(h,v+=vs,100, "Склад",Normal,f2,false,LocationSClass);

			ButtonFrame(h=250,v=42,100,3,"Фильтр");
			RadioButton(h,v,0,0,"Все",flags[0]);
			RadioButton(h,v+=16,1,0,"Закрытые",flags[0]);
			RadioButton(h,v+=16,2,0,"Открытые",flags[0]);

			HalPushButton(h=100,v+=16,190,66,"OrderStatusInfoMn","Инфо");
		EndWindow;

  	WindowBegin("Определите отчет по счетам клиентов",OrderStatusRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
			v = 6; vs = 20; h = 100;
			PeriodField(h,v,"Период");
			EditField(h,v+=vs,100, "Номер",Normal,long1,false,0);
			EditField(h,v+=vs,100, "Вид счета",Normal,f1,false,OrderClassSClass);
			EditField(h,v+=vs,100, "Склад",Normal,f2,false,LocationSClass);

			ButtonFrame(h=250,v=42,100,3,"Фильтр");
			RadioButton(h,v,0,0,"Все",flags[0]);
			RadioButton(h,v+=16,1,0,"Закрытые",flags[0]);
			RadioButton(h,v+=16,2,0,"Открытые",flags[0]);
		EndWindow;

		WindowBegin("Отчет по задолженности клиентов",CustDebByCompRClass,CGRcW,RcType);
		SetWRect(20,80,400,250);
		v = 6; vs = 20; h = 100;
		EditField(h,v+=vs,100, "Клиент",Normal,f1,false,CUSClass);
		RadioButton(h,v+=30,0,0,"Свободный",ArtMode);
		RadioButton(h,v+=16,1,0,"Расширенный",ArtMode);

		EndWindow;

  return;
end;

window DI2SClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")
begin
  Integer icn;

  icn = StringToInt(USetStr(912));
  WindowBegin("Выберите классификацию товара",DI2SClass,CGslist,DIView);
  SpawnClass(DIDClass);
  UseView(DIVc);
	SetWRect(100,80,400,298);
	RecordList(4,17,-21,-39);
	RlColKey(4,4,"Код",Code,false,CTCode);
	RlColKey(164,164,"Наим.",Name,false,CTName);
	RlCol(-84,-84,"Тип",CType,false);
	SearchField("Поиск");
  EndWindow;
end;

window DI3SClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")
begin
  Integer icn;

  WindowBegin("Выберите классификацию товара",DI3SClass,CGslist,DIView);
  SpawnClass(DIDClass);
  UseView(DIVc);
	SetWRect(100,80,400,298);
	RecordList(4,17,-21,-39);
	RlColKey(4,4,"Код",Code,false,CTCode);
	RlColKey(164,164,"Наим.",Name,false,CTName);
	RlCol(-84,-84,"Тип",CType,false);
	SearchField("Поиск");
  EndWindow;
end;

window DI4SClass:1 //Edit***************************Sasha2,16:23 04.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")
begin
  Integer icn;

  icn = StringToInt(USetStr(912));
  WindowBegin("Выберите классификацию товара",DI4SClass,CGslist,DIView);
  SpawnClass(DIDClass);
  UseView(DIVc);
	SetWRect(100,80,400,298);
	RecordList(4,17,-21,-39);
	RlColKey(4,4,"Код",Code,false,CTCode);
	RlColKey(100,164,"Наим.",Name,false,CTName);
	RlCol(-84,-84,"Тип",CType,false);
	SearchField("Поиск");
  EndWindow;
end; //Edit***************************Sasha2,16:23 04.11.2015 }

window NPTSNewCUFieldsTCLass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v;
  WindowBegin("Поля для создания нового клиента",NPTSNewCUFieldsTCLass,CGHbl,HBlRecType);
  SetBlid(NPTSNewCUFieldsBlock);
  SetWRect(20,80,420,400);
  h = 8; v = 20;
  MatrixBegin(h,v,-25,-1,-,99);
//  MatColTL(1,24,"Field Name",0,M4AppCode,Normal,-1,FieldName,false,SetSClass);

  MatCol(1,24,"Нименов. поля",0,FieldName,false,0);
  MatCol(1,104,"Тип",0,EditState,false,SetSClass);
  MatCol(1,200,"Комментарий",0,FieldComment,false,0);
  EndMatrix;
  EndWindow;
end;

window ExtractINAttachVClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("Выгрузить прикрепленные файлы к товарам",ExtractINAttachVClass,CGMnt,RcType);
  SetWRect(20,80,400,240);
  vs = 20;h = 130; v = 26;
  EndWindow;
end;

window IPrsLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("История плат. клиента",IPrsLClass,CGmlist,-);
  SetWRect(64,80,550,298);
  Sizeable(-1,-1,0,0);
  UseView(IPrsVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"CustCode",CustCode,false,MainKey);
  RlCol(100,100, "TransNr",TransNr,false);
  RlCol(200,200, "TransDate",TransDate,false);
  RlCol(300,300, "CustDate",CustDate,false);
  RlCol(400,400, "TransType",TransType,false);
  RlCol(500,500, "IVNr",IVNr,false);
  RlCol(600,600, "AccNr",AccNr,false);
  RlCol(800,800, "CheckType",CheckType,false);
  RlCol(900,900, "ChequeNr",ChequeNr,false);
  RlCol(1000,1000, "IntYc",IntYc,false);
  RlCol(1100,1100, "TransRow",TransRow,false);
  SearchField("Search");
  EndWindow;
end;


window ExternalStoreDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
	real v,vs,h;
  WindowBegin("Внешние продажи",ExternalStoreDClass,CGview,-);
  SetWRect(64,80,550,298);
  Sizeable(-1,-1,0,0);
  UseView(ExternalStoreVc);

  v = 6; vs = 20; h = 100;
	EditField(h,v+=vs,100, "Код",Normal,Code,false,0);
	EditField(h,v+=vs,100, "Название",Normal,Name,false,0);
  EditField(h,v+=vs,100, "Комментарий",Normal,Comment,false,0);
  EndWindow;
end;

window ExternalStoreLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Внешние магазины",ExternalStoreLClass,CGmlist,-);
  SetWRect(64,80,550,298);
  Sizeable(-1,-1,0,0);
  SpawnClass(ExternalStoreDClass);
  UseView(ExternalStoreVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"Код",Code,false,Code);
  RlCol(100,100,"Название",Name,false);
  RlCol(200,200,"Комментрий",Comment,false);

  SearchField("Search");
  EndWindow;
end;


window ExternalStoreSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Выберите склад",ExternalStoreSClass,CGslist,-);
  SetWRect(240,80,700,298);
  Sizeable(-1,-1,0,0);
  UseView(ExternalStoreVc);
  SpawnClass(ExternalStoreDClass);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"Код",Code,false,Code);
  RlColKey(100,100,"Наимен.",Name,false,Name);
  RlColKey(200,200,"Коммент.",Comment,false,Comment);
  SearchField("Найти");
  EndWindow;
end;

window ExternalSalesDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
	real v,vs,h;
  WindowBegin("Внешние продажи",ExternalSalesDClass,CGview,-);
  SetWRect(64,80,300,200);
  Sizeable(-1,-1,0,0);
  UseView(ExternalSalesVc);
  ActiveFieldOnNew("CustCode");
  v = 6; vs = 20; h = 100;
	EditField(h,v+=vs,100, "Номер",Normal,SerNr,false,0);
	EditField(h,v+=vs,100, "Клиент",Normal,CustCode,false,CUSClass);
	EditField(h,v+=vs,300, "Название",Normal,Name,false,0);
  EditField(h,v+=vs,100, "Дата",Normal,TransDate,false,PasteCurDate);
  EditField(h,v+=vs,100, "Магазин",Normal,Location,false,ExternalStoreSClass);
  EditField(h,v+=vs,400, "Комментарий",Normal,Comment,false,0);
  EditField(h,v+=vs,400, "Сумма EUR",Normal,Sum,false,0);
  CheckBox(h,v+=vs, 70,"Ok",OKFlag);
  EndWindow;
end;

window ExternalSalesLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Внешние продажи",ExternalSalesLClass,CGmlist,-);
  SetWRect(64,80,500,300);
  Sizeable(0,0,0,0);
  SpawnClass(ExternalSalesDClass);
  UseView(ExternalSalesVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"№",SerNr,false,SerNr);
  RlColKey(70,70,"Клиент",CustCode,false,CustCode);
  RlColKey(140,140,"Название",Name,false,Name);
	RlColKey(200,200,"Дата",TransDate,false,TransDate);
	RlColKey(250,250,"Магазин",Location,false,Location);
	RlCol(300,300,"Комментарий",Comment,false);
	RlColKey(-100,-100,"ОК",OKFlag,true,OKFlag);
	RlCol(-70,-70,"EUR",Sum,true);

  SearchField("Search");
  EndWindow;
end;

window SetSyncFlagsVClass:1 // Edit ************************** Friday, 17 October 2014 11:47:19
 wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
 begin
WindowBegin("Maintenance",SetSyncFlagsVClass,CGMnt,RcType);
  SetWRect(20,120,360,220);
  EndWindow;
end;




window TableSearchIClass:1  // added ************ Dima, 16.12.2014
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i,mwn;
  WindowBegin("Поиск в таблице",TableSearchIClass,CGother,RcType);
  SetWRect(3,140,400,250);
  UseView(RcVc);
  Modality(1);
  v=30;
  h=20;
  //EditFieldTL(h+30,v-10 ,150,"Поиск",M4Str,Normal,20,f1,true,0); // new search field
  EditField(h+30,v-10 ,150,"Поиск",Normal,f1,true,0);
  ColourPushButton(h+=200,v-10,h+58,v+26,"GoPreviousItem","Пред.",20);
  ColourPushButton(h+=75,v-10,h+58,v+26,"GoNextItem","След.",2);

  EndWindow;
end;


window RetDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  WindowBegin("Возврат товаров от клиента",RetDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(RetVc);
  ActiveFieldOnNew("CustCode");
  Tile(0,74,false,"",TransDate);
  v = 6; vs = 20;
  EditField(75,vm=(v=6),95,"Но.",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"Клиент",Normal,CustCode,false,CUSClass);
  EditField(h=275,v=vm,-40,"Наимен.",Normal,CustName,false,0);
  EditField(h,vm=(v+=20),135,"Оф. номер",Normal,OfficialSerNr,false,LegalInvNrSClass);
//  EditField(h+210,v,82, "Employee",Normal,EMCode,false,UserSClass);
  CheckBox(h4=-100,v,0,"ОК",OKFlag);
  TileButton(1,"Условия");
  TileButton(2,"Товары");
  TileButton(3,"Валюта");
  TileButton(4,"Комментарий");
  Tile(1,90,false,"1",Location);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -110;
  EditField(h1,vm=(v=6),82,"Дата",Normal,TransDate,false,PasteCurDate);
  EditField(h1,v+=vs,82,"Склад",Normal,Location,false,LocationSClass);
  EditField(h1,v+=vs,82,"Основание",Normal,Reason,false,StandProblemsSClass);
  EditField(h1,v+=vs,82,"Объекты",Normal,Objects,false,ObjSClass);
  EditField(h2,v=vm,135,"Номер счета",ViewOnly,OrdNr,false,0);
  EditField(h2,v+=vs,135,"Номер отгр.",ViewOnly,SHNr,false,0);
  EditField(h2,v+=vs,135,"№ зак. на обсл.",ViewOnly,SVONr,false,0);
  EditField(h2,v+=vs,135,"№ табл. работ",ViewOnly,WSNr,false,0);
  EnterSkip(Math);
  ButtonFrame(h3=h3-70,v=vm+10,140,2,"Уменьшить количество");
  RadioButton(h3,v,0,0,"Только отгруженные",Type);
  RadioButton(h3,v+=16,1,0,"Заказанные и отгруж.",Type);
  CheckBox(h4,v=vm+10,0,"Обновить склад",UpdStockFlag);
  CheckBox(h4,v+=16,0,"Цена вкл. НДС",InclVAT);
  CheckBox(h4,v+=16,0,"Без кр. сч/ф",Closed);
  Tile(2,79,true,"2",Math);
  v = 24;
  MatrixBegin(4,v,-50,-22,-,199);
  Flip(0);
  MatCol(1,24,"Товар",0,ArtCode,false,INSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  MatCol(1,94,"Кол-во",0,Quant,true,0);
  Flip(1);
//  MatCol(1,194,"Description",0,Spec,false,0);
  MatCol(1,144,"Наимен.",0,Spec,false,0);
  MatCol(1,-228,"Цена",0,UPrice,true,0);
  MatCol(1,-160,"Накладные расходы",0,Extra,true,0);
  MatCol(1,-80,"Стоимость",0,CostPrice,true,0);
  Flip(2);
  MatCol(1,134,"Объекты",0,Objects,false,ObjSClass);
  MatCol(1,264,"Сч/ф",0,Invd,false,0);
  MatColTL(1,-300,"Склад",0,M4UStr,ViewOnly,0,Location,false,0);
  MatCol(1,-240,"Счет склада",0,CostAcc,false,AccSClass); // Edit ************************** Thursday, 22 January 2015 11:25:13
  //MatColTL(1,-240,"Счет склада",0,M4UStr,Normal,0,CostAcc,false,AccSClass);
  MatCol(1,-180,"Серийный №",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-80,"Срок годности",0,BestBefore,false,0);
  Flip(3);
  MatCol(1,144,"Объекты",0,Objects,false,ObjSClass);
  MatCol(1,-450,"Стоим. обратной закупки",0,BBCostPrice,false,0);//##cc
  MatCol(1,-290,"Место",0,PosCode,false,FreePosSClass);//##cc
  MatColTL(1,-240,"Структура",0,M4Ustr,ViewOnly,0,Recepy,false,0);
  MatCol(1,-180,"Ширина",0,UnitXval,true,0);
  MatCol(1,-120,"Высота",0,UnitYval,true,0);
  MatCol(1,-60,"Глубина",0,UnitZval,true,0);
  Flip(4);
  MatCol(1,144,"Описание",0,Spec,false,0);
  MatCol(1,-225,"Тип товара",0,WSIVType,false,SetSClass);
  MatCol(1,-150,"Осн. серийн. номер",0,MotherNr,false,SerialNrSClass);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  //  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(110,-20,50,"Total Qty",ViewOnly,SumQuant,true,0);
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h1,v=6,50,"Валюта",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h2,v,50,"Курс",Normal,FrRate,true,0);
  EditField(h2+65,v,50,":",Normal,ToRateB1,true,0);
  StaticText(h2+125,v+12,"Базовая валюта 1",false);
  EditField(h1,v+=vs,50,"Базовая валюта 1",Normal,BaseRate1,true,0);
  EditField(h2+65,v,50,":",Normal,ToRateB2,true,0);
  StaticText(h2+125,v+12,"Базовая валюта 2",false);
  EditField(h1,v+=vs,50,"Базовая валюта 2",Normal,BaseRate2,true,0);
  Tile(4,30,false,"4",Comment);
  EditField(h1,v=6,-20,"Комментарий",Normal,Comment,false,0);
  SpecialMenu("Поиск товара",'',1,"ItemSearchDsm");
  SpecialMenu("Поиск в текущей таблице",'f',1,"TableSearchDsm");
  SpecialMenu("Открыть запись операции",'t',0,"OpenTRFromRet");
  SpecialMenu("Выписать кредитный счет",'F',1,"CreditIVFromRetsm");
  SpecialMenu("Контроль качества",'u',10,"QualConFromRetDsm");
  EndWindow;
end;

window WebSyncTClass:1 //Edit***************************Sasha2,13:29 12.01.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vs;
  WindowBegin("Web sync queue",WebSyncTClass,CGSbl,-);
  SetBlid(WebSyncBlock);
  SetWRect(64,80,430,140);
  v=10;vs = 20; h = 70; h2 = 250; h3 = 380;
  EditField(h,v,82,"Items1",normal,Items1,false,"");
  EditField(h,v+=vs,82,"Brands1",normal,Brands1,false,"");
  EditField(h,v+=vs,82,"Types1",normal,Types1,false,"");
  EditField(h,v+=vs,82,"Collections1",normal,Collections1,false,"");
  EditField(h,v+=vs*2,82,"Items2",normal,Items2,false,"");
  EditField(h,v+=vs,82,"Brands2",normal,Brands2,false,"");
  EditField(h,v+=vs,82,"Types2",normal,Types2,false,"");
  EditField(h,v+=vs,82,"Collections2",normal,Collections2,false,"");

  EditField(h2,v=10,82,"ItemsTemp1",normal,ItemsTemp1,false,"");
  EditField(h2,v+=vs,82,"BrandsTemp1",normal,BrandsTemp1,false,"");
  EditField(h2,v+=vs,82,"TypesTemp1",normal,TypesTemp1,false,"");
  EditField(h2,v+=vs,82,"CollectionsTemp1",normal,CollectionsTemp1,false,"");
  EditField(h2,v+=vs*2,82,"ItemsTemp2",normal,ItemsTemp2,false,"");
  EditField(h2,v+=vs,82,"BrandsTemp2",normal,BrandsTemp2,false,"");
  EditField(h2,v+=vs,82,"TypesTemp2",normal,TypesTemp2,false,"");
  EditField(h2,v+=vs,82,"CollectionsTemp2",normal,CollectionsTemp2,false,"");
  EndWindow;
end; //Edit***************************Sasha2,13:29 12.01.2015 }

window WebSyncMobileTClass:1 //Edit***************************Sasha2,13:29 12.01.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vs;
  WindowBegin("Web sync queue",WebSyncMobileTClass,CGSbl,-);
  SetBlid(WebSyncBlock);
  SetWRect(64,80,430,140);
  v=10;vs = 20; h = 70; h2 = 250; h3 = 380;
  EditField(h,v,82,"Items2",ViewOnly,Items2,false,"");
  EditField(h,v+=vs,82,"Brands2",ViewOnly,Brands2,false,"");
  EditField(h,v+=vs,82,"Types2",ViewOnly,Types2,false,"");
  EditField(h,v+=vs,82,"Collections2",ViewOnly,Collections2,false,"");

  EditField(h2,v=10,82,"ItemsTemp2",ViewOnly,ItemsTemp2,false,"");
  EditField(h2,v+=vs,82,"BrandsTemp2",ViewOnly,BrandsTemp2,false,"");
  EditField(h2,v+=vs,82,"TypesTemp2",ViewOnly,TypesTemp2,false,"");
  EditField(h2,v+=vs,82,"CollectionsTemp2",ViewOnly,CollectionsTemp2,false,"");
  EndWindow;
end; //Edit***************************Sasha2,13:29 12.01.2015 }



window INUpdatingIClass:1  // added ************ Dima, 19.11.2014
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Импорт товаров",INUpdatingIClass,CGIcW,-);
  SetWRect(20,80,470,320);
  i=1; //номер колонки
  h=10;  v=15;
  StaticText(h,v,"Формат импорта",false);
  h=20;  v=40;
  StaticText(h,v,"Список колонок:",false);
  v=v+30; vs=25;
  StaticText(h,v,i &". Код товара",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Название",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Бренд",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Тип",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  h=10;
  StaticText(h,v+=45,"Примечание:   Все столбцы разделены <Tab>",false);

  EndWindow;
end;


window INUpdatingGroups3050IClass:1  // added ************ Dima, 19.11.2014
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Импорт групп товаров",INUpdatingGroups3050IClass,CGIcW,-);
  SetWRect(20,80,470,320);
  i=1; //номер колонки
  h=10;  v=15;
  StaticText(h,v,"Формат импорта",false);
  h=20;  v=40;
  StaticText(h,v,"Список колонок:",false);
  v=v+30; vs=25;
  StaticText(h,v,i &". Код товара",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Скидка (30% / 50%)",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;

  h=10;
  StaticText(h,v+=45,"Примечание:   Все столбцы разделены <Tab>",false);
  StaticText(h,v+=45,"Пример:   111111      50%",false);

  EndWindow;
end;


window ReplaceAccount84VClass:1 //Edit----------------------Dima  17.02.2015
 wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
 begin
WindowBegin("Replace 84 to 84/01 and 84/02",ReplaceAccount84VClass,CGMnt,RcType);
  SetWRect(20,180,360,220);
	EditFieldTL(120,10 ,70,"From date", M4Date,Normal,21,sStartDate,false,0);
  EndWindow;
end;

window DebtDistribVClass:1 //Edit----------------------Dima  17.02.2015
 wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
 begin
WindowBegin("Debt distribution",DebtDistribVClass,CGMnt,RcType);
  SetWRect(20,180,360,220);
  EditField(120,10, 100,"Код клиента",Normal,d1Code,false,CUSClass);
  EditField(120,30, 100,"Сумма балов",Normal,long1,false,0);
  EditField(120,50, 100,"Сч/ф",Normal,long2,false,ARSClass);
	//EditFieldTL(120,10 ,70,"From date", M4Date,Normal,21,sStartDate,false,0);
  EndWindow;
end;

window CompLocationSClass:1 //Edit***************************Sasha2,10:48 07.04.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Выберите склад",CompLocationSClass,CGother,HBlRecType);
  SetWRect(240,80,640,298);
  //Modality(kModalityAboveParent);
  Sizeable(-1,-1,-1,0);
  StringList(9,9,-23,-10);
  SearchField("Найти");
  EndWindow;
end; //Edit***************************Sasha2,10:48 07.04.2015 }


window CreationPUForIVTClass:1 //Edit***************************Sasha2,18:09 06.04.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
integer v,i,mtrw,h,heiz;
integer wn; 
record CompaniesBlock Compb;
row CompaniesBlock Comprw;
string 20 printfunc; 
boolean includef;

  WindowBegin("Создать поступление",CreationPUForIVTClass,CGother,RcType);
	UseView(RcVc);
	DynamicWindow;
	wn = curwindow;
	BlockLoad(Compb);
	mtrw = matrowcnt(Compb);
	heiz = 80 + 20 + 18 + mtrw*18;
	SetWRect(90,80,400,heiz);
	//Modality(kModalityGlobal);
	v=10;
	ButtonFrame(20,20,200,mtrw,"Компании");
	h=20;v=20;
	for(i=0;i<mtrw;i=i+1)begin
		matrowget(Compb,i,Comprw);
		includef = true;
		if ((i+1)==1 or ((i+1)>=10) and (i+1)<15) then begin includef = false; end;
		if(includef and NonBlank(Comprw.CompName))then begin
			RadioButton(h,v,i+1,0,Comprw.CompName,flags[0]);
			v=v+16;
		end;
	end;
	StaticText(h,v+=30,"Склад",false);
	EditFieldTL(h,v+=8,150,"",M4Str,Normal,255,f1,false,CompLocationSClass);
	v=v+35;
	HalPushButton(h,v,h+100,v+50,"YesCreatePufromIVforPLButton","Ok");
	HalPushButton(h+=150,v,h+100,v+20,"NoCreatePufromIVforPLButton","Отмена"); 
L99:;
  EndWindow;
end; //Edit***************************Sasha2,18:09 06.04.2015 }

window INinStockRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs,l;
  WindowBegin("Определите печать стикеров по остаткам",INinStockRClass,CGRcW,RcType);
  SetWRect(20,80,500,250);
  Sizeable(0,150,0,0);                                                     
  h = 120;vs = 20;                                                             
  
  v=v+vs;
  EditFieldTL(h,v+=vs,160,"Товар",M4Str,Normal,41,f1,false,INSClass);
  EditFieldTL(h,v+=vs,160,"Склад",M4Code,Normal,41,f2,false,LocationSClass);
  EditFieldTL(h,v+=vs,160,"Классификация",M4Str,Normal,41,f3,false,DISClass);
  EditFieldTL(h,v+=vs,160,"Кол-во",M4Long,Normal,41,long1,false,0);
  CheckBox(h,v+=vs,0,"Включить в печать товары малоцен.(Zebra)",flags[2]);
  
  ButtonFrame(h+200,v+=40,l=160,3,"Формат наклеек");
  RadioButton(h+200,v,6,0,"4x13",flags[1]);
  RadioButton(h+200,v+=16,7,0,"4x14",flags[1]);
  RadioButton(h+200,v+=16,0,0,"1x1 (Zebra)",flags[1]); //Edit***************************Sasha2,15:29 08.07.2015
  
  EndWindow;
end;

window BrandStockCorrelRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real v,vs,h;
WindowBegin("Brand & Stock Correlation",BrandStockCorrelRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 130;
  PeriodField(h,v,"Period");
  EditField(h,v+=vs,80,"Brand",Normal,f1,false,DISClass);
  EditFieldTL(h,v+=vs,80,"Location",M4Str,Normal,41,f2,false,LocationSClass);
	/*EditField(h,v+=vs,80,"Отчет в валюте",Normal,f3,false,CurncyCodeSClass);	//Edit----------------------Dima  03.02.2015
  if(currentcompany != 1)then begin
    EditField(h,v+=vs,150,"В валюте по тек. курсу",Normal,f2,false,CurncyCodeSClass);
  end;*/
  EndWindow;
end;


window SetCurrencyinPricesVClass:1 
 wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
 begin
WindowBegin("Set currency in Prices",SetCurrencyinPricesVClass,CGMnt,RcType);
  SetWRect(20,180,360,220);
  EditField(120,10, 100,"Классификация",Normal,f1,false,DISClass);
  EditField(120,30, 100,"Новая валюта",Normal,f2,false,CurncyCodeSClass);
  EndWindow;
end;


window INColorSizeUpdatingIClass:1 	//Edit----------------------Dima  29.04.2015
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Импорт товаров",INUpdatingIClass,CGIcW,-);
  SetWRect(20,80,470,320);
  i=1; //номер колонки
  h=10;  v=15;
  StaticText(h,v,"Формат импорта",false);
  h=20;  v=40;
  StaticText(h,v,"Список колонок:",false);
  v=v+30; vs=25;
  StaticText(h,v,i &". Код товара",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Название",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Цвет",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Размер",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  h=10;
  StaticText(h,v+=45,"Примечание:   Все столбцы разделены <Tab>",false);

  EndWindow;
end;

window ZebraPrinterTClass:1 //Edit***************************Sasha2,16:12 25.09.2014 {
 wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs,f;
  WindowBegin("Настройка принтера Zebra",ZebraPrinterTClass,CGSbl,-);
  SetBlid(ZebraPrinterBlock);
  SetWRect(64,80,480,150);
  h=150;f=150;
  v=6;vs=20;
    StaticText(h,vs,"Для Windows _____________",false);
    EditField(h,v+=vs,f,"Название компьютера",Normal,CompNameWin,false,0); 
    EditField(h,v+=vs,f,"Название принтера",Normal,PrinterNameWin,false,0); 
    StaticText(h,v+=2*vs,"Для Mac OS ______________",false);
    EditField(h,v+=6,f,"Название принтера",Normal,PrinterNameMac,false,0);
    EditField(h+30,v+=24,f-30,"Интенсивность печати 1-15",Normal,ParamIn1,false,0);
  EndWindow;
end; //Edit***************************Sasha2,16:12 25.09.2014 }

window ObjStoreSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,iPad,iPhone")
begin
  WindowBegin("Выберите объект",ObjStoreSClass,CGslist,ObjView);
  DynamicWindow;
  SpawnClass(ObjDClass);
  UseView(ObjVc);
    Sizeable(-1,-1,0,0);
    SetWRect(220,80,600,298);
    RecordList(4,17,-21,-39);
    RlColKey(4,1,    "Объект",Code,false,ActSbstOTCode);
    RlColKey(151,151,"Тип",OTCode,false,0);
    RlColKey(201,201,"Наим.",Comment,false,ActSbstComment);
    SearchField("Найти");
  EndWindow;
end;

window ObjBrandSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,iPad,iPhone")
begin
  WindowBegin("Выберите объект",ObjBrandSClass,CGslist,ObjView);
  DynamicWindow;
  SpawnClass(ObjDClass);
  UseView(ObjVc);
    Sizeable(-1,-1,0,0);
    SetWRect(220,80,600,298);
    RecordList(4,17,-21,-39);
    RlColKey(4,1,    "Объект",Code,false,ActSbstOTCode);
    RlColKey(151,151,"Тип",OTCode,false,0);
    RlColKey(201,201,"Наим.",Comment,false,ActSbstComment);
    SearchField("Найти");
  EndWindow;
end;
window SetNewCurrencyinPricesVClass:1 
 wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
 begin
WindowBegin("Заменить валюту в ценах",SetNewCurrencyinPricesVClass,CGMnt,RcType);
  SetWRect(20,180,360,220);
  EditField(100,30, 80,"С валюты",Normal,f1,false,CurncyCodeSClass);
  EditField(230,30, 80,"на",Normal,f2,false,CurncyCodeSClass);
  EndWindow;
end;

window DICheckTClass:1 //Edit***************************Sasha2,12:19 02.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v;
  WindowBegin("Контроль типов классификаций",DICheckTClass,CGHbl,HBlRecType);
  SetWRect(20,80,527,350);
  SetBlid(DICheckBlock);
  Sizeable(-1,-1,0,0);
  StaticText(35,22,"Требовать отпределенный тип классификации для следующих классификаций",false);
  MatrixBegin(4,v=57,-26,-20,OTCheckRowType,299);
  MatCol(1,30,"Клас-ция",0,DiCode,false,DISClass);
  MatCol(1,80,"Типы клас-ции",0,DiType,false,CTypeSClass);
  EndMatrix;
  EndWindow;
end; //Edit***************************Sasha2,12:19 02.11.2015 }

window TypeDISClass:1 //Edit***************************Sasha2,11:02 04.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")
begin
  Integer icn;

  icn = StringToInt(USetStr(912));
  WindowBegin("Выберите классификацию товара",TypeDISClass,CGslist,DIView);
  SpawnClass(DIDClass);
  UseView(DIVc);
  if (GUIType==kGuiAndroid) then begin
  SetWRect(0,0,320,418);
    WindowTitleBar(6002,icn,6003,"Вставить классификацию товара"); 
  RecordList(0,0,-1,-1);
  RLCellKey(0,12,280,12,Code,false,kFontSizeLarge,patM4curpen,CTCode);
  RLCell(0,56,80,56,CType,false,kFontSizeSmall,patM4curpen);
  RLCell(80,56,280,56,Name,false,kFontSizeSmall,patM4curpen);
  end else begin
    SetWRect(100,80,400,298);
    RecordList(4,17,-21,-39);
    if (GUIType==kGuiiPhone) then begin
      RLCellKey(10,6,120,19,Code,false,12,patM4blue,CTCode);
      RLCell(210,6,280,19,CType,false,12,patM4black);
      RLCell(10,26,280,39,Name,false,12,patM4black);
    end else begin
      RlColKey(4,4,"Код",Code,false,CTCode); 
      RlColKey(84,84,"Тип",CType,false,CType); 
      RlColKey(164,164,"Наим.",Name,false,Name); 
end;
    SearchField("Поиск"); 
end;
  EndWindow;
end; //Edit***************************Sasha2,11:02 04.11.2015 }

window DIWithTypesSClass:1 //Edit***************************Sasha2,11:06 03.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  array boolean achangecrncyf;
  
  real h,h2,h3,h4,hm,l,v,v3,vm,vs;
  
  record INVc INr;
  record DIVc Dir;
  integer itemscnt,groupscnt,i,wn,mwn,pos;
  string 10 curdi;
  Integer icn;
  Array string 255 types;
  
  wn = CurWindow;
  if (wn>0) then begin
    switch (GetWindowClass(wn)) begin
      case "INDClass":
        GetWindowRecord(wn,INr); 
        pos = 0;
        ExtractObj(INr.MainDisp,pos,curdi);
        /*Dir.Code = curdi;
        ReadFirstMain(Dir,1,true);*/
      case "DIWithTypesSClass":
        mwn = MotherWindow(wn);
        switch (GetWindowClass(mwn)) begin
          case "INDClass":
            GetWindowRecord(mwn,INr);
            pos = 0;
            ExtractObj(INr.MainDisp,pos,curdi);
            Dir.Code = curdi;
            ReadFirstMain(Dir,1,true);
        end;
    end;
  end;
  CntDiTypesForIn(curdi,types,itemscnt,groupscnt);
  
  if (groupscnt>0) then begin
  
    WindowBegin("Определите все классификации",DIWithTypesSClass,CGother,RcType);
    AutoSizeWindow(false);
    DynamicWindow;
 
  //  Modality(1);
    UseView(RcVc);
    SetWRect(80,200,650,330+groupscnt*20);
  //  Sizeable(-1,-1,0,0);
    h = 20; h2 = 170; vs = 30; v = 30;
    
    /*StaticText(h+=40,20,"Для товара",false);
    v = v + 10;
    SoftEditFieldTLX(h,25,440,"",M4Str,ViewOnly,100,15,patM4black,"DIWithTypesItem",false,0);
    v = v + vs + 10;*/
    
    h = 20;
    StaticText(h+=70,v,"Код",false);
    StaticText(h+=100,v,"Наименование",false);
    v = v + 10;
    
    h = 20;
    SoftEditField(h+=70,v,80,Dir.CType,ViewOnly,"DIWithTypesMainCode",false,0,M4Str,255);
    SoftEditField(h+=100,v,350,"",ViewOnly,"DIWithTypesMainName",false,0,M4Str,255);
    v = v + vs - 10;
  
    for (i=0;i<groupscnt;i=i+1) begin
      h = 20;
      if (SkipCheckDIType(types[i])==false) then begin
        SoftEditField(h+=70,v,80,types[i],Normal,types[i] & i,false,TypeDISClass,M4Str,255);
        SoftEditField(h+=100,v,350,"",ViewOnly,"DIWithTypesName" & i,false,0,M4Str,255);
        //SoftEditFieldTLX(h+=50,v,70,"",M4Str,Normal,100,15,patM4black,"DIWithTypesCode" & i,false,TypeDISClass);
        //SoftEditFieldTLX(h+=80,v,350,"",M4Str,ViewOnly,100,15,patM4black,"DIWithTypesName" & i,false,0);
        v = v + vs - 10;
      end;
      //StaticText(h+20,v+13,i+1,false);
      
    end;
  
    h = 20;    
    v = 10; h2 = 55; v3 = 48; vs = 48;
    ColourPushButton(-390,-50/*v+4*vs*/,-390+3*h2,-20/*v+4*vs+v3*/,"CancelDIWithTypesSClass","Отмена",20); //Edit***************************Sasha2,14:01 21.04.2015
    ColourPushButton(-210,-50/*v+4*vs*/,-210+3*h2,-20/*v+4*vs+v3*/,"ProceedDIWithTypesSClass","Продолжить",20); //Edit***************************Sasha2,14:01 21.04.2015

  end else begin
    
      // same as "DISClass:1"
      
      icn = StringToInt(USetStr(912));
      
      WindowBegin("Выберите классификацию товара",DIWithTypesSClass,CGslist,DIView);
      SpawnClass(DIDClass);
      UseView(DIVc);
      if (GUIType==kGuiAndroid) then begin
      SetWRect(0,0,320,418);
        WindowTitleBar(6002,icn,6003,"Вставить классификацию товара"); 
      RecordList(0,0,-1,-1);
      RLCellKey(0,12,280,12,Code,false,kFontSizeLarge,patM4curpen,Code);
      RLCell(0,56,80,56,CType,false,kFontSizeSmall,patM4curpen);
      RLCell(80,56,280,56,Name,false,kFontSizeSmall,patM4curpen);
      end else begin
        SetWRect(100,80,400,298);
        RecordList(4,17,-21,-39);
        if (GUIType==kGuiiPhone) then begin
          RLCellKey(10,6,120,19,Code,false,12,patM4blue,Code);
          RLCell(210,6,280,19,CType,false,12,patM4black);
          RLCell(10,26,280,39,Name,false,12,patM4black);
        end else begin
          RlColKey(4,4,"Код",Code,false,Code); 
          RlColKey(84,84,"Тип",CType,false,CType); 
          RlColKey(164,164,"Наим.",Name,false,Name); 
      end;
        SearchField("Поиск"); 
      end;
      
  end;
  
  EndWindow;
  
end; //Edit***************************Sasha2,11:06 03.11.2015 }

window RenameCertainDIVClass:1 //Edit***************************Sasha2,15:02 06.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("Заменить классификацию в товаре",RenameCertainDIVClass,CGMnt,RcType);
  SetWRect(20,80,400,400);
  EditField(150,10,140,"С классификации",Normal,f1,false,DISClass);
  EditField(150,35,140,"На классификацию",Normal,f2,false,DISClass);
  EndWindow;
end; //Edit***************************Sasha2,15:02 06.11.2015 }

window RenameCertainDI1VClass:1 //Edit***************************Sasha2,15:02 06.11.2015 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("Заменить классификацию в товаре",RenameCertainDI1VClass,CGMnt,RcType);
  SetWRect(20,80,400,800);
  EditField(150,10,140,"С одной классификации",Normal,f1,false,DISClass);
  EditField(150,35,140,"На две классификации",Normal,f2,false,DISClass);
  h=20; v=80; vs = 15;
  StaticText(h,v,"Второе поле должно содержать две класс-ции:",false);
  StaticText(h,v+=vs,"первая - тип (TYPE), вторая - та, на которую заменится",false);
  StaticText(h,v+=vs,"классификация с поля \"С одной классификации\"",false);
  
  EndWindow;
end; //Edit***************************Sasha2,15:02 06.11.2015 }

window ObjInitBalVClass:1  //Edit-------------------Vitalii 17:18 21.12.2015
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("Перенос начального сальдо по объектам",RenameCertainDIVClass,CGMnt,RcType);
  SetWRect(20,80,400,400);
  h = 150;
  vs = 20;
  PeriodField(h,v=6,"Период");
  EditFieldTL(h,v+=vs,150,"Объект",M4UStr,Normal,60,ObjStr,false,ObjSClass);
  EditField(h,v+=vs,150,"Компания для переноса",Normal,f1,false,Companies2SClass);
  EndWindow;
end;

window CurrencyRateToBase1RateVClass:1 //Edit***************************Sasha2,14:46 21.01.2016 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("Заполнить курсы основных валют для валюты",CurrencyRateToBase1RateVClass,CGMnt,RcType);
  SetWRect(20,80,400,400);
  EditField(150,10,140,"Валюта",Normal,f1,false,CurncyCodeSClass);
  EndWindow;
end; ///Edit***************************Sasha2,14:46 21.01.2016 }



window CompLocation2SClass:1 
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Выберите склад",CompLocationSClass,CGother,HBlRecType);
  SetWRect(240,80,640,298);

  Sizeable(-1,-1,-1,0);
  StringList(9,9,-23,-10);
  SearchField("Найти");
  EndWindow;
end;


window HistoricalRClass:1			//Edit----------------------Dima  26.02.2016
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real v,vs,h;
WindowBegin("Определите исторический отчет",HistoricalRClass,CGRcW,RcType);
  SetWRect(20,80,400,250);
  v = 6; vs = 20; h = 130;
  PeriodField(h,v,"Период");
  EditField(h,v+=vs,120,"Товар",Normal,f1,false,INSClass);
  EditFieldTL(h,v+=vs,120,"Магазин",M4Str,Normal,41,f2,false,CompLocation2SClass);
  
  ButtonFrame(h,v+=40,150,2,"Отображать статистику");		
  RadioButton(h,v,0,1,"для текущей компании",UsedOnly);
  RadioButton(h,v+=20,1,0,"для всех J&W компаний",UsedOnly);  
  EndWindow;
end;


window CoinSettingsTClass:1		//Edit----------------------Dima  21.03.2016
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v,vs;
  WindowBegin("Настройки Cruppo Coin",CoinSettingsTClass,CGSbl,-);
  SetWRect(20,80,400,200);
  SetBlid(CoinSettingsBlock);
  Sizeable(-1,-1,0,0);
  v=0; vs = 20;
	EditField(100,v=6,140,"Client code",Normal,ClientCode,false,0);
	EditField(100,v+=vs,140,"Locations",Normal,Locations,false,LocationSClass);
	StaticText(250,v+12,"(separated by comma)",false);
  EndWindow;
end;


/*global
function string 60 GruppoCoinSalesEClassDefaultFileName(record RcVc RepSpec)
begin
	record CoinSettingsBlock CoinSettingsb;
	string 100 name;
	date transdate;
	
	BlockLoad(CoinSettingsb);
	transdate = RepSpec.d1;
	if (BlankDate(transdate)) then begin
		transdate = CurrentDate;
	end;
		
	name = "PSL" & CoinSettingsb.ClientCode & "_" & DateToString(transdate,"YYYYMMDD");
	name = name & ".TXT";
	
	
  GruppoCoinSalesEClassDefaultFileName = name;
  return;
end;*/

/*
window GruppoCoinSalesEClass:1			//Edit----------------------Dima  22.03.2016
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("Определите перечень склада",GruppoCoinSalesEClass,CGEcW,RcType);
  SetWRect(20,80,400,290);
  vs=20;
  EditFieldTL(100,v+=vs, 100,"Дата",M4Date,Normal,0,d1,false,PasteCurDate);

  EndWindow;
end;*/

window GruppoCoinManualVClass:1			//Edit----------------------Dima  22.03.2016
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("Определите перечень склада",GruppoCoinManualVClass,CGMnt,RcType);
  SetWRect(20,80,400,290);
  vs=20;
  
  PeriodField(50,v,"Период");
  EditFieldTL(50,v+=20, 100,"Дата",M4Date,Normal,0,d1,false,PasteCurDate);
  CheckBox(50,v+=vs,0,"Продажи",flags[1]);
  CheckBox(50,v+=vs,0,"Остатки",flags[2]);

  EndWindow;
end;

window ReplaceBarCodeIClass:1 //Edit***************************Sasha2,10:09 30.06.2016 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Импорт штрих-кодов кодов",ReplaceBarCodeIClass,CGIcW,-);
  SetWRect(20,80,470,320);
  i=1; //номер колонки
  h=10;  v=15;
  StaticText(h,v,"Формат импорта",false);
  h=20;  v=40;
  StaticText(h,v,"Список колонок:",false);
  v=v+30; vs=25;
  StaticText(h,v,i &". Код товара",false);
	 StaticText(h+150,v,"Обязательное поле",false);
	 i=i+1;
  StaticText(h,v+=vs,i &". Штрих-код",false);
	 StaticText(h+150,v,"Обязательное поле",false);
  h=10;
  StaticText(h,v+=45,"Примечание:   Все столбцы разделены <Tab>",false);

  EndWindow;
end; //Edit***************************Sasha2,10:09 30.06.2016 }


window CoinPackListDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
	real v,vs,h,h1,h2;
  WindowBegin("Pack list",CoinPackListDClass,CGview,-);
  SetWRect(64,80,700,600);
  Sizeable(-1,-1,0,0);
  UseView(CoinPackListVc);
  ActiveFieldOnNew("CustCode");
  v = 6; vs = 20; h = 100; h1 = 300; h2 = 500;
	EditField(h,v+=vs,100,"Номер",Normal,SerNr,false,0);
	EditField(h,v+=vs,100,"Назв.файла",Normal,FileName,false,0)
	EditField(h,v+=vs,100,"Дата док.",Normal,TransDate,false,0);
	EditField(h,v+=vs,100,"Дата имп.",Normal,ImpDate,false,0);
	EditField(h,v+=vs,100,"Время имп.",Normal,ImpTime,false,0);
	EditField(h,v+=vs,500,"Deliverer",Normal,Deliverer,false,0);
  EditField(h,v+=vs,500,"Recipient",Normal,Recipient,false,0);
  EditField(h,v+=vs,500,"Importer",Normal,Importer,false,0);
  EditField(h,v+=vs,500,"GoodsCollAddress",Normal,GoodsCollAddress,false,0);
	v = 6;
	EditField(h1,v+=vs,100,"Deliverer store",Normal,StoreID,false,0);
	EditField(h1,v+=vs,100,"Receiver store",Normal,StoreID2,false,0);
	EditField(h1,v+=vs,100,"Tr.bill",Normal,TransportBill,false,0);
	EditField(h1,v+=vs,100,"Tr.bill date",Normal,TransportBillDate,false,0);
  EditField(h1,v+=vs,100,"Oviesse VAT num",Normal,OviesseVATnum,false,0);
  v = 6;
  CheckBox(h2 + 100,v+=vs,70,"Обработано",Handled);
  EditField(h2,v+=vs,100,"Тип",Normal,RecordType,false,0);
  EditField(h2,v+=vs,100,"InvoiceNum",Normal,InvoiceNum,false,0);
  EditField(h2,v+=vs,100,"InvoiceDate",Normal,InvoiceDate,false,0);
  EditField(h2,v+=vs,100,"RowNumber",Normal,RowNumber,false,0);
  
  v = 200;
  EditField(h,v+=vs,100,"PalletCode",Normal,PalletCode,false,0);
  EditField(h,v+=vs,100,"DistribNum",Normal,DistribNum,false,0);
  EditField(h,v+=vs,100,"PackGroupNum",Normal,PackGroupNum,false,0);
  EditField(h,v+=vs,100,"NumOfPackages",Normal,NumOfPackages,false,0);
  EditField(h,v+=vs,100,"Fabric",Normal,Fabric,false,0);
  EditField(h,v+=vs,100,"CountryOfOrigin",Normal,CountryOfOrigin,false,0);
  EditField(h,v+=vs,100,"CustomsCode",Normal,CustomsCode,false,0);
  EditField(h,v+=vs,100,"ExtraUE",Normal,ExtraUE,false,0);
  EditField(h,v+=vs,100,"ItalCustCode",Normal,ItalCustCode,false,0);
  EditField(h,v+=vs,100,"CostCurCode",Normal,CostCurCode,false,0);
  EditField(h,v+=vs,100,"OtherPalletCodes",Normal,OtherPalletCodes,false,0);
  
  v = 200;
  EditField(h1,v+=vs,100,"SKUNumber",Normal,SKUNumber,false,0);
  EditField(h1,v+=vs,100,"EAN",Normal,EAN,false,0);
  EditField(h1,v+=vs,300,"ItemDescription",Normal,ItemDescription,false,0);
	EditField(h1,v+=vs,300,"ItemComposition",Normal,ItemComposition,false,0);
	EditField(h1,v+=vs,100,"Quantity",Normal,Quantity,false,0);
	EditField(h1,v+=vs,100,"UnitCostPrice",Normal,UnitCostPrice,false,0);
	EditField(h1,v+=vs,100,"GlobGrossWeight",Normal,GlobGrossWeight,false,0);
  EditField(h1,v+=vs,100,"GlobNetWeight",Normal,GlobNetWeight,false,0);
  EditField(h1,v+=vs,100,"UnitGrossWeight",Normal,UnitGrossWeight,false,0);
  
  EndWindow;
end;


window CoinPackListLClass:1 //Edit***************************Sasha2,15:18 01.07.2016 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("История плат. клиента",CoinPackListLClass,CGmlist,-);
  SetWRect(64,80,550,298);
  SpawnClass(CoinPackListDClass);
  Sizeable(-1,-1,0,0);
  UseView(CoinPackListVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"SerNr",SerNr,false,SerNr);
  RlColKey(70,70,"TransDate",TransDate,false,TransDate);
  RlColKey(140,140,"Transport bill",TransportBill,false,TransportBill);
  RlCol(230,230, "Rec.Type",RecordType,false);
  RlColKey(280,280,"EAN",EAN,false,EAN);
  /*RlCol(200,200, "TransDate",TransDate,false);
  RlCol(300,300, "CustDate",CustDate,false);
  RlCol(400,400, "TransType",TransType,false);
  RlCol(500,500, "IVNr",IVNr,false);
  RlCol(600,600, "AccNr",AccNr,false);
  RlCol(800,800, "CheckType",CheckType,false);
  RlCol(900,900, "ChequeNr",ChequeNr,false);
  RlCol(1000,1000, "IntYc",IntYc,false);
  RlCol(1100,1100, "TransRow",TransRow,false);*/
  SearchField("Search");
  EndWindow;
end; //Edit***************************Sasha2,15:18 01.07.2016 }

window CoinEANCodeDClass:1//Edit-------------------Vitalii 
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Bar code",CoinEANCodeDClass,CGview,-);
  SetWRect(20,80,512,639);
  UseView(CoinEANCodeVc);
  v = 6; vs = 20; h = 100;
	EditField(h,v,100, "SerNr",Normal,SerNr,false,0);
  h = 100;
  EditField(h,v+=vs,100, "TransDate",Normal,TransDate,false,0);
	EditField(h+=160,v,100, "FileName",Normal,FileName,false,0);
	h = 100;
	EditField(h,v+=vs,100, "ImpDate",Normal,ImpDate,false,0);
	EditField(h+=160,v,100, "ImpTime",Normal,ImpTime,false,0);
  v = v + 15;
  h = 100;
	EditField(h,v+=vs,100, "ProcedureName",Normal,ProcedureName,false,0);
	EditField(h,v+=vs,100, "Action",Normal,Action,false,0);
	EditField(h,v+=vs,100, "ItemNumber",Normal,ItemNumber,false,0);
	EditField(h,v+=vs,100, "Size",Normal,Size,false,0);
	EditField(h,v+=vs,100, "SizeDescription",Normal,SizeDescription,false,0);
	EditField(h,v+=vs,100, "SKUNumber",Normal,SKUNumber,false,0);
	EditField(h,v+=vs,100, "EANNumber",Normal,EANNumber,false,0);
	EndWindow;
end;

window CoinEANCodeLClass:1//Edit-------------------Vitalii 
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("Bar codes",CoinEANCodeLClass,CGmlist,-);
    SetWRect(20,80,509,298);
    SpawnClass(CoinEANCodeDClass);
    Sizeable(-1,-1,0,0);
    UseView(CoinEANCodeVc);
    RecordList(4,17,-21,-39);
    RlColKey(4,4,"SerNr",SerNr,false,SerNr);
    RlColKey(81,81,"ItemNumber",ItemNumber,false,ItemNumber);
    RlColKey(181,181,"SKUNumber",SKUNumber,false,SKUNumber);
    RlColKey(281,281,"EANNumber",EANNumber,false,EANNumber);
    SearchField("Search");
  EndWindow;
end;

window CoinItemListDClass:1//Edit-------------------Vitalii 
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,h2,v,vs;
Integer i;
  WindowBegin("ItemList",CoinItemListDClass,CGview,-);
  SetWRect(20,80,650,639);
  UseView(CoinItemListVc);
  v = 6; vs = 20; h = 180; h2 = 450;
	EditField(h,v,100,"SerNr",Normal,SerNr,false,0);
  EditField(h2,v,100,"ImpDate",Normal,ImpDate,false,0);
  EditField(h,v+=vs,100,"ImpTime",Normal,ImpTime,false,0);
  EditField(h2,v,100,"TransDate",Normal,TransDate,false,0);
  EditField(h,v+=vs,100,"FileName",Normal,FileName,false,0);
  v = v + 15;
  EditField(h,v+=vs,100,"ProcName",Normal,ProcName,false,0);
  EditField(h2,v,100,"Action",Normal,Action,false,0);
  EditField(h,v+=vs,100,"ItemNumber",Normal,ItemNumber,false,0);
  EditField(h2,v,100,"ItemDescription",Normal,ItemDescription,false,0);
  EditField(h,v+=vs,100,"GoodsType",Normal,GoodsType,false,0);
  EditField(h2,v,100,"Colour",Normal,Colour,false,0);
  EditField(h,v+=vs,100,"Composition",Normal,Composition,false,0);
  EditField(h2,v,100,"VATCode",Normal,VATCode,false,0);
  EditField(h,v+=vs,100,"FunctionFamilyDescription",Normal,FunctionFamilyDescription,false,0);
  EditField(h2,v,100,"SubdepartmentCode",Normal,SubdepartmentCode,false,0);
  EditField(h,v+=vs,100,"SubdepartmentDescription",Normal,SubdepartmentDescription,false,0);
  EditField(h2,v,100,"DepartmentCode",Normal,DepartmentCode,false,0);
  EditField(h,v+=vs,100,"DepartmentDescription",Normal,DepartmentDescription,false,0);
  EditField(h2,v,100,"SeasonCodeGarmentWeight",Normal,SeasonCodeGarmentWeight,false,0);
  EditField(h,v+=vs,100,"SeasonDescription",Normal,SeasonDescription,false,0);
  EditField(h2,v,100,"Gender",Normal,Gender,false,0);
  EditField(h,v+=vs,100,"GenderDescription",Normal,GenderDescription,false,0);
  EditField(h2,v,100,"CountryOfOrigin",Normal,CountryOfOrigin,false,0);
  EditField(h,v+=vs,100,"PriceValidityStartDate",Normal,PriceValidityStartDate,false,0);
  EditField(h2,v,100,"CurrencyCode1",Normal,CurrencyCode1,false,0);
  EditField(h,v+=vs,100,"RetailPrice1",Normal,RetailPrice1,false,0);
  EditField(h2,v,100,"CurrencyCode2",Normal,CurrencyCode2,false,0);
  EditField(h,v+=vs,100,"RetailPrice2",Normal,RetailPrice2,false,0);
  EditField(h2,v,100,"VAT",Normal,VAT,false,0);
  EditField(h,v+=vs,100,"CustomsDescriptionOfGoods",Normal,CustomsDescriptionOfGoods,false,0);
  EditField(h2,v,100,"CompositionCodeOld",Normal,CompositionCodeOld,false,0);
  EditField(h,v+=vs,100,"Year",Normal,Year,false,0);
  EditField(h2,v,100,"CategoryCode",Normal,CategoryCode,false,0);
  EditField(h,v+=vs,100,"CategoryDescription",Normal,CategoryDescription,false,0);
  EditField(h2,v,100,"ColourstoryPromoCoordination1",Normal,ColourstoryPromoCoordination1,false,0);
  EditField(h,v+=vs,100,"ColourstoryPromoCoordination2",Normal,ColourstoryPromoCoordination2,false,0);
  EditField(h2,v,100,"ColourstoryPromoCoordination3",Normal,ColourstoryPromoCoordination3,false,0);
  EditField(h,v+=vs,100,"CommercialReference",Normal,CommercialReference,false,0);
  EditField(h2,v,100,"FunctionFamilyCode",Normal,FunctionFamilyCode,false,0);
  EditField(h,v+=vs,100,"SizeGroupCode1",Normal,SizeGroupCode1,false,0);
  EditField(h2,v,100,"SizeGroupCode2",Normal,SizeGroupCode2,false,0);
  EditField(h,v+=vs,100,"ItalianCustomsCode",Normal,ItalianCustomsCode,false,0);
  EditField(h2,v,100,"NetWeight",Normal,NetWeight,false,0);
  EditField(h,v+=vs,100,"GrossWeight",Normal,GrossWeight,false,0);
  EditField(h2,v,100,"KnittedWoven",Normal,KnittedWoven,false,0);
  EditField(h,v+=vs,100,"Kit",Normal,Kit,false,0);
  EditField(h2,v,100,"LocalMonth",Normal,LocalMonth,false,0);
  EditField(h,v+=vs,100,"CompositionCode",Normal,CompositionCode,false,0);
  EditField(h2,v,100,"ItemMaster",Normal,ItemMaster,false,0);
  EditField(h,v+=vs,100,"DateReleaseForSale",Normal,DateReleaseForSale,false,0);
  EditField(h2,v,100,"Period",Normal,Period,false,0);
  EditField(h,v+=vs,100,"BrandCode",Normal,BrandCode,false,0);
  EditField(h2,v,100,"BrandDescription",Normal,BrandDescription,false,0);
  EditField(h,v+=vs,100,"UnitCostPrice",Normal,UnitCostPrice,false,0);

	EndWindow;
end;

window CoinItemListLClass:1//Edit-------------------Vitalii 
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
real h,v,vs;
Integer i;
  WindowBegin("ItemList",CoinItemListClass,CGmlist,-);
    SetWRect(20,80,800,298);
    SpawnClass(CoinItemListDClass);
    Sizeable(-1,-1,0,0);
    UseView(CoinItemListVc);
    RecordList(4,17,-21,-39);
    RlColKey(4,4,"SerNr",SerNr,false,SerNr);
    RlColKey(81,81,"ImpDate",ImpDate,false,ImpDate);
    RlCol(181,181,"ImpTime",ImpTime,false);
    RlColKey(281,281,"TransDate",TransDate,false,TransDate);
    RlColKey(381,381,"FileName",FileName,false,FileName);
    RlColKey(481,481,"ItemNumber",ItemNumber,false,ItemNumber);
    RlCol(581,581,"ItemDescription",ItemDescription,false);
    SearchField("Search");
  EndWindow;
end;

//Edit-------------------Vitalii 17:06 04.07.2016
window FIX2VClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("FIX2VClass",FIX2VClass,CGMnt,RcType);
  SetWRect(20,80,400,240);
  vs = 20;h = 130; v = 26;
  ButtonFrame(h-20,v,200,3,"Chose type of file:");
  RadioButton(h-20,v,0,0,"PackList",flags[1]);
  RadioButton(h-20,v+=16,1,0,"EANCode",flags[1]);
  RadioButton(h-20,v+=16,2,0,"ItemList",flags[1]);
  EndWindow;
end;
