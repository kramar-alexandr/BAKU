global updating procedure SetSyncFlagsMn() //Edit***************************Sasha2,13:44 24.06.2014 {begin	record INVc INr;	record DIVc DIr;	record ItemStatusVc ISr;	record CompaniesBlock Compb;  	row CompaniesBlock Comprw;  	integer oldcompany,i,rwcnt;  	Boolean testf;		oldcompany = CurrentCompany;      BlockLoad(Compb);    rwcnt = MatRowCnt(Compb);      for (i=0;i<rwcnt;i=i+1) begin      	MatRowGet(Compb,i,Comprw);      	if (SetCompanyCode(Comprw.CompCode,false) and Comprw.ActiveStatus==0) then begin     				INr.Code = "";			while(loopmain(INr,1,true)) begin				testf = true;				ISr.Code = INr.Code;				if (!ReadFirstMain(ISr,1,true) or ISr.Instock<=0) then begin testf = false; end;				if (testf) then begin					INr.SyncFlag = 1;					RECORDSTORE(INr, true);				end;			end; RESETLOOP(INr);						DIr.Code = "";			while(loopmain(DIr,1,true)) begin				DIr.SyncFlag = 1;				RECORDSTORE(DIr, true);			end; RESETLOOP(DIr);			LogText(0,"Syncflags are set for company " & Comprw.CompName);		end;	end;		ResetCompany(oldcompany);	return;end; //Edit***************************Sasha2,13:45 24.06.2014 }